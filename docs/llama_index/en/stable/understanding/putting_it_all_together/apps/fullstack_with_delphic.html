LlamaIndex 🦙 0.8.68 Search Search ⌘K Getting Started Use Cases Understanding Optimizing Module Guides API Reference Community Contributing Changes v: stable Back to top Edit this page ./delphic contrib contrib indexes admin.py apps.py models.py migrations signals.py tests.py tasks index_tasks.py users utils Document Collection ./delphic/indexes/models.py Collection api_key title description status CollectionStatus created modified model processing Document collection file description created modified ./config/api/endpoints.py endpoints.py /heartbeat True /collections/create Collection title description files Collection Document  @collections_router . post ( "/create" ) async def create_collection ( request , title : str = Form ( ... ), description : str = Form ( ... ), files : list [ UploadedFile ] = File ( ... ), ): key = None if getattr ( request , "auth" , None ) is None else request . auth if key is not None : key = await key collection_instance = Collection ( api_key = key , title = title , description = description , status = CollectionStatusEnum . QUEUED , ) await sync_to_async ( collection_instance . save )() for uploaded_file in files : doc_data = uploaded_file . file . read () doc_file = ContentFile ( doc_data , uploaded_file . name ) document = Document ( collection = collection_instance , file = doc_file ) await sync_to_async ( document . save )() create_index . si ( collection_instance . id ) . apply_async () return await sync_to_async ( CollectionModelSchema )( ... ) /collections/query collection_id query_str  @collections_router . post ( "/query" , response = CollectionQueryOutput , summary = "Ask a question of a document collection" , ) def query_collection_view ( request : HttpRequest , query_input : CollectionQueryInput ): collection_id = query_input . collection_id query_str = query_input . query_str response = query_collection ( collection_id , query_str ) return { "response" : response } /collections/available CollectionModelSchema  @collections_router . get ( "/available" , response = list [ CollectionModelSchema ], summary = "Get a list of all of the collections created with my api_key" , ) async def get_my_collections_view ( request : HttpRequest ): key = None if getattr ( request , "auth" , None ) is None else request . auth if key is not None : key = await key collections = Collection . objects . filter ( api_key = key ) return [{ ... } async for collection in collections ] /collections/{collection_id}/add_file collection_id file description Document  @collections_router . post ( "/ {collection_id} /add_file" , summary = "Add a file to a collection" ) async def add_file_to_collection ( request , collection_id : int , file : UploadedFile = File ( ... ), description : str = Form ( ... ), ): collection = await sync_to_async ( Collection . objects . get )( id = collection_id ) ./config/asgi.py ProtocolTypeRouter TokenAuthMiddleware URLRouter TokenAuthMiddleware CollectionQueryConsumer  application = ProtocolTypeRouter ( { "http" : get_asgi_application (), "websocket" : TokenAuthMiddleware ( URLRouter ( [ re_path ( r "ws/collections/(?P<collection_id>\w+)/query/$" , CollectionQueryConsumer . as_asgi (), ), ] ) ), } ) CollectionQueryConsumer config/api/websockets/queries.py AsyncWebsocketConsumer CollectionQueryConsumer connect disconnect receive connect  async def connect ( self ): try : self . collection_id = extract_connection_id ( self . scope [ "path" ]) self . index = await load_collection_model ( self . collection_id ) await self . accept () except ValueError as e : await self . accept () await self . close ( code = 4000 ) except Exception as e : pass disconnect receive  async def receive ( self , text_data ): text_data_json = json . loads ( text_data ) if self . index is not None : query_str = text_data_json [ "query" ] modified_query_str = f "Please return a nicely formatted markdown string to this request: \n\n { query_str } " query_engine = self . index . as_query_engine () response = query_engine . query ( modified_query_str ) markdown_response = f "## Response \n\n { response } \n\n " if response . source_nodes : markdown_sources = ( f "## Sources \n\n { response . get_formatted_sources () } " ) else : markdown_sources = "" formatted_response = f " { markdown_response }{ markdown_sources } " await self . send ( json . dumps ({ "response" : formatted_response }, indent = 4 )) else : await self . send ( json . dumps ( { "error" : "No index loaded for this connection." }, indent = 4 ) ) load_collection_model delphic/utils/collections.py LLMPredictor ServiceContext VectorStoreIndex  async def load_collection_model ( collection_id : str | int ) -> VectorStoreIndex :      """     Load the Collection model from cache or the database, and return the index.     Args:         collection_id (Union[str, int]): The ID of the Collection model instance.     Returns:         VectorStoreIndex: The loaded index.     This function performs the following steps:     1. Retrieve the Collection object with the given collection_id.     2. Check if a JSON file with the name '/cache/model_{collection_id}.json' exists.     3. If the JSON file doesn't exist, load the JSON from the Collection.model FileField and save it to        '/cache/model_{collection_id}.json'.     4. Call VectorStoreIndex.load_from_disk with the cache_file_path.     """ # Retrieve the Collection object collection = await Collection . objects . aget ( id = collection_id ) logger . info ( f "load_collection_model() - loaded collection  { collection_id } " ) # Make sure there's a model if collection . model . name : logger . info ( "load_collection_model() - Setup local json index file" ) # Check if the JSON file exists cache_dir = Path ( settings . BASE_DIR ) / "cache" cache_file_path = cache_dir / f "model_ { collection_id } .json" if not cache_file_path . exists (): cache_dir . mkdir ( parents = True , exist_ok = True ) with collection . model . open ( "rb" ) as model_file : with cache_file_path . open ( "w+" , encoding = "utf-8" ) as cache_file : cache_file . write ( model_file . read () . decode ( "utf-8" )) # define LLM logger . info ( f "load_collection_model() - Setup service context with tokens  { settings . MAX_TOKENS }  and " f "model  { settings . MODEL_NAME } " ) llm = OpenAI ( temperature = 0 , model = "text-davinci-003" , max_tokens = 512 ) service_context = ServiceContext . from_defaults ( llm = llm ) # Call VectorStoreIndex.load_from_disk logger . info ( "load_collection_model() - Load llama index" ) index = VectorStoreIndex . load_from_disk ( cache_file_path , service_context = service_context ) logger . info ( "load_collection_model() - Llamaindex loaded and ready for query..." ) else : logger . error ( f "load_collection_model() - collection  { collection_id }  has no model!" ) raise ValueError ( "No model exists for this collection!" ) return index /frontend /frontend/src frontend /frontend/src/App.tsx DrawerLayour2.tsx  collections loading fetchCollections()  fetchCollections getMyCollections collections loading false  disabled ListItemButton CollectionStatus.COMPLETE !collection.has_model useEffect collections CollectionStatus.RUNNING CollectionStatus.QUEUED fetchCollections  ChatView frontend/src/chat/ChatView.tsx ChatView ChatView ChatView websocket useRef useRef ChatView useRef setupWebsocket  onopen  onmessage messages  websocket . current . onmessage = ( event ) => { const data = JSON . parse ( event . data ); console . log ( "WebSocket message received:" , data ); setAwaitingMessage ( false ); if ( data . response ) { // Update the messages state with the new message from the server setMessages (( prevMessages ) => [ ... prevMessages , { sender_id : "server" , message : data . response , timestamp : new Date () . toLocaleTimeString (), }, ]); } }; onclose 4000  onerror  ChatView flex flexDirection ChatMessage ChatMessageLoading Divider TextField Button ChatView TextField    .django .postgres --profiles fullstack   localhost:3000 http://localhost:8000/admin Next Previous On this page ./delphic contrib contrib indexes admin.py apps.py models.py migrations signals.py tests.py tasks index_tasks.py users utils Document Collection ./delphic/indexes/models.py Collection api_key title description status CollectionStatus created modified model processing Document collection file description created modified ./config/api/endpoints.py endpoints.py /heartbeat True /collections/create Collection title description files Collection Document /collections/query collection_id query_str /collections/available CollectionModelSchema /collections/{collection_id}/add_file collection_id file description Document ./config/asgi.py ProtocolTypeRouter TokenAuthMiddleware URLRouter TokenAuthMiddleware CollectionQueryConsumer CollectionQueryConsumer config/api/websockets/queries.py AsyncWebsocketConsumer CollectionQueryConsumer connect disconnect receive connect disconnect receive load_collection_model delphic/utils/collections.py LLMPredictor ServiceContext VectorStoreIndex /frontend /frontend/src frontend /frontend/src/App.tsx DrawerLayour2.tsx collections loading fetchCollections() fetchCollections getMyCollections collections loading false disabled ListItemButton CollectionStatus.COMPLETE !collection.has_model useEffect collections CollectionStatus.RUNNING CollectionStatus.QUEUED fetchCollections ChatView frontend/src/chat/ChatView.tsx ChatView ChatView ChatView websocket useRef useRef ChatView useRef setupWebsocket onopen onmessage messages onclose 4000 onerror ChatView flex flexDirection ChatMessage ChatMessageLoading Divider TextField Button ChatView TextField .django .postgres --profiles fullstack localhost:3000 http://localhost:8000/admin Getting Started Use Cases Understanding Optimizing Module Guides API Reference Community Contributing Changes This guide seeks to walk you through using LlamaIndex with a production-ready web app starter template called Delphic. All code examples here are available from the Delphic repo Here’s a quick demo of the out-of-the-box functionality of Delphic: https://user-images.githubusercontent.com/5049984/233236432-aa4980b6-a510-42f3-887a-81485c9644e6.mp4 Delphic leverages the LlamaIndex python library to let users to create their own document collections they can then query in a responsive frontend. We chose a stack that provides a responsive, robust mix of technologies that can (1) orchestrate complex python processing tasks while providing (2) a modern, responsive frontend and (3) a secure backend to build additional functionality upon. The core libraries are: Django Django Channels Django Ninja Redis Celery LlamaIndex Langchain React Docker & Docker Compose Thanks to this modern stack built on the super stable Django web framework, the starter Delphic app boasts a streamlined developer experience, built-in authentication and user management, asynchronous vector store processing, and web-socket-based query connections for a responsive UI. In addition, our frontend is built with TypeScript and is based on MUI React for a responsive and modern user interface. Celery doesn’t work on Windows. It may be deployable with Windows Subsystem for Linux, but configuring that is beyond the scope of this tutorial. For this reason, we recommend you only follow this tutorial if you’re running Linux or OSX. You will need Docker and Docker Compose installed to deploy the application. Local development will require node version manager (nvm). The Delphic application has a structured backend directory organization that follows common Django project conventions. From the repo root, in the ./delphic subfolder, the main folders are: contrib: This directory contains custom modifications or additions to Django’s built-in contrib apps. indexes: This directory contains the core functionality related to document indexing and LLM integration. It includes: admin.py: Django admin configuration for the app apps.py: Application configuration models.py: Contains the app’s database models migrations: Directory containing database schema migrations for the app signals.py: Defines any signals for the app tests.py: Unit tests for the app tasks: This directory contains tasks for asynchronous processing using Celery. The index_tasks.py file includes the tasks for creating vector indexes. users: This directory is dedicated to user management, including: utils: This directory contains utility modules and functions that are used across the application, such as custom storage backends, path helpers, and collection-related utilities. The Delphic application has two core models: Document and Collection. These models represent the central entities the application deals with when indexing and querying documents using LLMs. They’re defined in ./delphic/indexes/models.py. Collection: api_key: A foreign key that links a collection to an API key. This helps associate jobs with the source API key. title: A character field that provides a title for the collection. description: A text field that provides a description of the collection. status: A character field that stores the processing status of the collection, utilizing the CollectionStatus enumeration. created: A datetime field that records when the collection was created. modified: A datetime field that records the last modification time of the collection. model: A file field that stores the model associated with the collection. processing: A boolean field that indicates if the collection is currently being processed. Document: collection: A foreign key that links a document to a collection. This represents the relationship between documents and collections. file: A file field that stores the uploaded document file. description: A text field that provides a description of the document. created: A datetime field that records when the document was created. modified: A datetime field that records the last modification time of the document. These models provide a solid foundation for collections of documents and the indexes created from them with LlamaIndex. Django Ninja is a web framework for building APIs with Django and Python 3.7+ type hints. It provides a simple, intuitive, and expressive way of defining API endpoints, leveraging Python’s type hints to automatically generate input validation, serialization, and documentation. In the Delphic repo, the ./config/api/endpoints.py file contains the API routes and logic for the API endpoints. Now, let’s briefly address the purpose of each endpoint in the endpoints.py file: /heartbeat: A simple GET endpoint to check if the API is up and running. Returns True if the API is accessible. This is helpful for Kubernetes setups that expect to be able to query your container to ensure it’s up and running. /collections/create: A POST endpoint to create a new Collection. Accepts form parameters such as title, description, and a list of files. Creates a new Collection and Document instances for each file, and schedules a Celery task to create an index. /collections/query — a POST endpoint to query a document collection using the LLM. Accepts a JSON payload containing collection_id and query_str, and returns a response generated by querying the collection. We don’t actually use this endpoint in our chat GUI (We use a websocket - see below), but you could build an app to integrate to this REST endpoint to query a specific collection. /collections/available: A GET endpoint that returns a list of all collections created with the user’s API key. The output is serialized using the CollectionModelSchema. /collections/{collection_id}/add_file: A POST endpoint to add a file to an existing collection. Accepts a collection_id path parameter, and form parameters such as file and description. Adds the file as a Document instance associated with the specified collection. WebSockets are a communication protocol that enables bidirectional and full-duplex communication between a client and a server over a single, long-lived connection. The WebSocket protocol is designed to work over the same ports as HTTP and HTTPS (ports 80 and 443, respectively) and uses a similar handshake process to establish a connection. Once the connection is established, data can be sent in both directions as “frames” without the need to reestablish the connection each time, unlike traditional HTTP requests. There are several reasons to use WebSockets, particularly when working with code that takes a long time to load into memory but is quick to run once loaded: Performance: WebSockets eliminate the overhead associated with opening and closing multiple connections for each request, reducing latency. Efficiency: WebSockets allow for real-time communication without the need for polling, resulting in more efficient use of resources and better responsiveness. Scalability: WebSockets can handle a large number of simultaneous connections, making it ideal for applications that require high concurrency. In the case of the Delphic application, using WebSockets makes sense as the LLMs can be expensive to load into memory. By establishing a WebSocket connection, the LLM can remain loaded in memory, allowing subsequent requests to be processed quickly without the need to reload the model each time. The ASGI configuration file ./config/asgi.py defines how the application should handle incoming connections, using the Django Channels ProtocolTypeRouter to route connections based on their protocol type. In this case, we have two protocol types: “http” and “websocket”. The “http” protocol type uses the standard Django ASGI application to handle HTTP requests, while the “websocket” protocol type uses a custom TokenAuthMiddleware to authenticate WebSocket connections. The URLRouter within the TokenAuthMiddleware defines a URL pattern for the CollectionQueryConsumer, which is responsible for handling WebSocket connections related to querying document collections. This configuration allows clients to establish WebSocket connections with the Delphic application to efficiently query document collections using the LLMs, without the need to reload the models for each request. The CollectionQueryConsumer class in config/api/websockets/queries.py is responsible for handling WebSocket connections related to querying document collections. It inherits from the AsyncWebsocketConsumer class provided by Django Channels. The CollectionQueryConsumer class has three main methods: connect: Called when a WebSocket is handshaking as part of the connection process. disconnect: Called when a WebSocket closes for any reason. receive: Called when the server receives a message from the WebSocket. The connect method is responsible for establishing the connection, extracting the collection ID from the connection path, loading the collection model, and accepting the connection. The disconnect method is empty in this case, as there are no additional actions to be taken when the WebSocket is closed. The receive method is responsible for processing incoming messages from the WebSocket. It takes the incoming message, decodes it, and then queries the loaded collection model using the provided query. The response is then formatted as a markdown string and sent back to the client over the WebSocket connection. To load the collection model, the load_collection_model function is used, which can be found in delphic/utils/collections.py. This function retrieves the collection object with the given collection ID, checks if a JSON file for the collection model exists, and if not, creates one. Then, it sets up the LLMPredictor and ServiceContext before loading the VectorStoreIndex using the cache file. We chose to use TypeScript, React and Material-UI (MUI) for the Delphic project’s frontend for a couple reasons. First, as the most popular component library (MUI) for the most popular frontend framework (React), this choice makes this project accessible to a huge community of developers. Second, React is, at this point, a stable and generally well-liked framework that delivers valuable abstractions in the form of its virtual DOM while still being relatively stable and, in our opinion, pretty easy to learn, again making it accessible. The frontend can be found in the /frontend directory of the repo, with the React-related components being in /frontend/src . You’ll notice there is a DockerFile in the frontend directory and several folders and files related to configuring our frontend web server — nginx. The /frontend/src/App.tsx file serves as the entry point of the application. It defines the main components, such as the login form, the drawer layout, and the collection create modal. The main components are conditionally rendered based on whether the user is logged in and has an authentication token. The DrawerLayout2 component is defined in theDrawerLayour2.tsx file. This component manages the layout of the application and provides the navigation and main content areas. Since the application is relatively simple, we can get away with not using a complex state management solution like Redux and just use React’s useState hooks. The collections available to the logged-in user are retrieved and displayed in the DrawerLayout2 component. The process can be broken down into the following steps: Initializing state variables: Here, we initialize two state variables: collections to store the list of collections and loading to track whether the collections are being fetched. Collections are fetched for the logged-in user with the fetchCollections() function: The fetchCollections function retrieves the collections for the logged-in user by calling the getMyCollections API function with the user’s access token. It then updates the collections state with the retrieved data and sets the loading state to false to indicate that fetching is complete. The latest collectios are displayed in the drawer like this: You’ll notice that the disabled property of a collection’s ListItemButton is set based on whether the collection’s status is not CollectionStatus.COMPLETE or the collection does not have a model (!collection.has_model). If either of these conditions is true, the button is disabled, preventing users from selecting an incomplete or model-less collection. Where the CollectionStatus is RUNNING, we also show a loading wheel over the button. In a separate useEffect hook, we check if any collection in the collections state has a status of CollectionStatus.RUNNING or CollectionStatus.QUEUED. If so, we set up an interval to repeatedly call the fetchCollections function every 15 seconds (15,000 milliseconds) to update the collection statuses. This way, the application periodically checks for completed collections, and the UI is updated accordingly when the processing is done. The ChatView component in frontend/src/chat/ChatView.tsx is responsible for handling and displaying a chat interface for a user to interact with a collection. The component establishes a WebSocket connection to communicate in real-time with the server, sending and receiving messages. Key features of the ChatView component include: Establishing and managing the WebSocket connection with the server. Displaying messages from the user and the server in a chat-like format. Handling user input to send messages to the server. Updating the messages state and UI based on received messages from the server. Displaying connection status and errors, such as loading messages, connecting to the server, or encountering errors while loading a collection. Together, all of this allows users to interact with their selected collection with a very smooth, low-latency experience. The WebSocket connection in the ChatView component is used to establish real-time communication between the client and the server. The WebSocket connection is set up and managed in the ChatView component as follows: First, we want to initialize the the WebSocket reference: const websocket = useRef<WebSocket | null>(null); A websocket reference is created using useRef, which holds the WebSocket object that will be used for communication. useRef is a hook in React that allows you to create a mutable reference object that persists across renders. It is particularly useful when you need to hold a reference to a mutable object, such as a WebSocket connection, without causing unnecessary re-renders. In the ChatView component, the WebSocket connection needs to be established and maintained throughout the lifetime of the component, and it should not trigger a re-render when the connection state changes. By using useRef, you ensure that the WebSocket connection is kept as a reference, and the component only re-renders when there are actual state changes, such as updating messages or displaying errors. The setupWebsocket function is responsible for establishing the WebSocket connection and setting up event handlers to handle different WebSocket events. Overall, the setupWebsocket function looks like this: Notice in a bunch of places we trigger updates to the GUI based on the information from the web socket client. When the component first opens and we try to establish a connection, the onopen listener is triggered. In the callback, the component updates the states to reflect that the connection is established, any previous errors are cleared, and no messages are awaiting responses: onmessageis triggered when a new message is received from the server through the WebSocket connection. In the callback, the received data is parsed and the messages state is updated with the new message from the server: oncloseis triggered when the WebSocket connection is closed. In the callback, the component checks for a specific close code (4000) to display a warning toast and update the component states accordingly. It also logs the close event: Finally, onerror is triggered when an error occurs with the WebSocket connection. In the callback, the component updates the states to reflect the error and logs the error event: In the ChatView component, the layout is determined using CSS styling and Material-UI components. The main layout consists of a container with a flex display and a column-oriented flexDirection. This ensures that the content within the container is arranged vertically. There are three primary sections within the layout: The chat messages area: This section takes up most of the available space and displays a list of messages exchanged between the user and the server. It has an overflow-y set to ‘auto’, which allows scrolling when the content overflows the available space. The messages are rendered using the ChatMessage component for each message and a ChatMessageLoading component to show the loading state while waiting for a server response. The divider: A Material-UI Divider component is used to separate the chat messages area from the input area, creating a clear visual distinction between the two sections. The input area: This section is located at the bottom and allows the user to type and send messages. It contains a TextField component from Material-UI, which is set to accept multiline input with a maximum of 2 rows. The input area also includes a Button component to send the message. The user can either click the “Send” button or press “ Enter” on their keyboard to send the message. The user inputs accepted in the ChatView component are text messages that the user types in the TextField. The component processes these text inputs and sends them to the server through the WebSocket connection. To deploy the app, you’re going to need Docker and Docker Compose installed. If you’re on Ubuntu or another, common Linux distribution, DigitalOcean has a great Docker tutorial and another great tutorial for Docker Compose you can follow. If those don’t work for you, try the official docker documentation. The project is based on django-cookiecutter, and it’s pretty easy to get it deployed on a VM and configured to serve HTTPs traffic for a specific domain. The configuration is somewhat involved, however — not because of this project, but it’s just a fairly involved topic to configure your certificates, DNS, etc. For the purposes of this guide, let’s just get running locally. Perhaps we’ll release a guide on production deployment. In the meantime, check out the Django Cookiecutter project docs for starters. This guide assumes your goal is to get the application up and running for use. If you want to develop, most likely you won’t want to launch the compose stack with the — profiles fullstack flag and will instead want to launch the react frontend using the node development server. To deploy, first clone the repo: Change into the project directory: Copy the sample environment files: Edit the .django and .postgres configuration files to include your OpenAI API key and set a unique password for your database user. You can also set the response token limit in the .django file or switch which OpenAI model you want to use. GPT4 is supported, assuming you’re authorized to access it. Build the docker compose stack with the --profiles fullstack flag: The fullstack flag instructs compose to build a docker container from the frontend folder and this will be launched along with all of the needed, backend containers. It takes a long time to build a production React container, however, so we don’t recommend you develop this way. Follow the instructions in the project readme.md for development environment setup instructions. Finally, bring up the application: Now, visit localhost:3000 in your browser to see the frontend, and use the Delphic application locally. In order to actually use the application (at the moment, we intend to make it possible to share certain models with unauthenticated users), you need a login. You can use either a superuser or non-superuser. In either case, someone needs to first create a superuser using the console: Why set up a Django superuser? A Django superuser has all the permissions in the application and can manage all aspects of the system, including creating, modifying, and deleting users, collections, and other data. Setting up a superuser allows you to fully control and manage the application. How to create a Django superuser: 1 Run the following command to create a superuser: sudo docker-compose -f local.yml run django python manage.py createsuperuser 2 You will be prompted to provide a username, email address, and password for the superuser. Enter the required information. How to create additional users using Django admin: Start your Delphic application locally following the deployment instructions. Visit the Django admin interface by navigating to http://localhost:8000/admin in your browser. Log in with the superuser credentials you created earlier. Click on “Users” under the “Authentication and Authorization” section. Click on the “Add user +” button in the top right corner. Enter the required information for the new user, such as username and password. Click “Save” to create the user. To grant the new user additional permissions or make them a superuser, click on their username in the user list, scroll down to the “Permissions” section, and configure their permissions accordingly. Save your changes. 🦙 @collections_router.post("/create") async def create_collection( request, title: str = Form(...), description: str = Form(...), files: list[UploadedFile] = File(...), ): key = None if getattr(request, "auth", None) is None else request.auth if key is not None: key = await key collection_instance = Collection( api_key=key, title=title, description=description, status=CollectionStatusEnum.QUEUED, ) await sync_to_async(collection_instance.save)() for uploaded_file in files: doc_data = uploaded_file.file.read() doc_file = ContentFile(doc_data, uploaded_file.name) document = Document(collection=collection_instance, file=doc_file) await sync_to_async(document.save)() create_index.si(collection_instance.id).apply_async() return await sync_to_async(CollectionModelSchema)(...) @collections_router.post( "/query", response=CollectionQueryOutput, summary="Ask a question of a document collection", def query_collection_view( request: HttpRequest, query_input: CollectionQueryInput collection_id = query_input.collection_id query_str = query_input.query_str response = query_collection(collection_id, query_str) return {"response": response} @collections_router.get( "/available", response=list[CollectionModelSchema], summary="Get a list of all of the collections created with my api_key", async def get_my_collections_view(request: HttpRequest): collections = Collection.objects.filter(api_key=key) return [{...} async for collection in collections] "/{collection_id}/add_file", summary="Add a file to a collection" async def add_file_to_collection( collection_id: int, file: UploadedFile = File(...), collection = await sync_to_async(Collection.objects.get)(id=collection_id) application = ProtocolTypeRouter( { "http": get_asgi_application(), "websocket": TokenAuthMiddleware( URLRouter( [ re_path( r"ws/collections/(?P<collection_id>\w+)/query/$", CollectionQueryConsumer.as_asgi(), ), ] } async def connect(self): try: self.collection_id = extract_connection_id(self.scope["path"]) self.index = await load_collection_model(self.collection_id) await self.accept() except ValueError as e: await self.close(code=4000) except Exception as e: pass async def receive(self, text_data): text_data_json = json.loads(text_data) if self.index is not None: query_str = text_data_json["query"] modified_query_str = f"Please return a nicely formatted markdown string to this request:\n\n{query_str}" query_engine = self.index.as_query_engine() response = query_engine.query(modified_query_str) markdown_response = f"## Response\n\n{response}\n\n" if response.source_nodes: markdown_sources = ( f"## Sources\n\n{response.get_formatted_sources()}" else: markdown_sources = "" formatted_response = f"{markdown_response}{markdown_sources}" await self.send(json.dumps({"response": formatted_response}, indent=4)) await self.send( json.dumps( {"error": "No index loaded for this connection."}, indent=4 async def load_collection_model(collection_id: str | int) -> VectorStoreIndex: """ Load the Collection model from cache or the database, and return the index. Args: collection_id (Union[str, int]): The ID of the Collection model instance. Returns: VectorStoreIndex: The loaded index. This function performs the following steps: 1. Retrieve the Collection object with the given collection_id. 2. Check if a JSON file with the name '/cache/model_{collection_id}.json' exists. 3. If the JSON file doesn't exist, load the JSON from the Collection.model FileField and save it to '/cache/model_{collection_id}.json'. 4. Call VectorStoreIndex.load_from_disk with the cache_file_path. # Retrieve the Collection object collection = await Collection.objects.aget(id=collection_id) logger.info(f"load_collection_model() - loaded collection {collection_id}") # Make sure there's a model if collection.model.name: logger.info("load_collection_model() - Setup local json index file") # Check if the JSON file exists cache_dir = Path(settings.BASE_DIR) / "cache" cache_file_path = cache_dir / f"model_{collection_id}.json" if not cache_file_path.exists(): cache_dir.mkdir(parents=True, exist_ok=True) with collection.model.open("rb") as model_file: with cache_file_path.open( "w+", encoding="utf-8" ) as cache_file: cache_file.write(model_file.read().decode("utf-8")) # define LLM logger.info( f"load_collection_model() - Setup service context with tokens {settings.MAX_TOKENS} and " f"model {settings.MODEL_NAME}" llm = OpenAI(temperature=0, model="text-davinci-003", max_tokens=512) service_context = ServiceContext.from_defaults(llm=llm) # Call VectorStoreIndex.load_from_disk logger.info("load_collection_model() - Load llama index") index = VectorStoreIndex.load_from_disk( cache_file_path, service_context=service_context "load_collection_model() - Llamaindex loaded and ready for query..." logger.error( f"load_collection_model() - collection {collection_id} has no model!" raise ValueError("No model exists for this collection!") return index const [collections, setCollections] = useState<CollectionModelSchema[]>([]); const [loading, setLoading] = useState(true); const fetchCollections = async () = > { try { const accessToken = localStorage.getItem("accessToken"); if (accessToken) { const response = await getMyCollections(accessToken); setCollections(response.data); } catch (error) { console.error(error); } finally { setLoading(false); }; < List > {collections.map((collection) = > ( < div key={collection.id} > < ListItem disablePadding > < ListItemButton disabled={ collection.status != = CollectionStatus.COMPLETE | | !collection.has_model onClick={() = > handleCollectionClick(collection)} selected = { selectedCollection & & selectedCollection.id == = collection.id > < ListItemText primary = {collection.title} / > {collection.status == = CollectionStatus.RUNNING ? ( < CircularProgress size={24} style={{position: "absolute", right: 16}} / > ): null} < / ListItemButton > < / ListItem > < / div > ))} < / List > useEffect(() = > { let interval: NodeJS.Timeout; if ( collections.some( (collection) = > collection.status == = CollectionStatus.RUNNING | | collection.status == = CollectionStatus.QUEUED ) { interval = setInterval(() = > { fetchCollections(); }, 15000); return () = > clearInterval(interval); }, [collections]); const setupWebsocket = () => { setConnecting(true); // Here, a new WebSocket object is created using the specified URL, which includes the // selected collection's ID and the user's authentication token. websocket.current = new WebSocket( `ws://localhost:8000/ws/collections/${selectedCollection.id}/query/?token=${authToken}`, ); websocket.current.onopen = (event) => { //... websocket.current.onmessage = (event) => { websocket.current.onclose = (event) => { websocket.current.onerror = (event) => { return () => { websocket.current?.close(); setError(false); setConnecting(false); setAwaitingMessage(false); console.log("WebSocket connected:", event); const data = JSON.parse(event.data); console.log("WebSocket message received:", data); if (data.response) { // Update the messages state with the new message from the server setMessages((prevMessages) => [ ...prevMessages, sender_id: "server", message: data.response, timestamp: new Date().toLocaleTimeString(), }, ]); if (event.code === 4000) { toast.warning( "Selected collection's model is unavailable. Was it created properly?", setError(true); console.log("WebSocket closed:", event); console.error("WebSocket error:", event); git clone https://github.com/yourusername/delphic.git cd delphic mkdir -p ./.envs/.local/ cp -a ./docs/sample_envs/local/.frontend ./frontend cp -a ./docs/sample_envs/local/.django ./.envs/.local cp -a ./docs/sample_envs/local/.postgres ./.envs/.local sudo docker-compose --profiles fullstack -f local.yml build sudo docker-compose -f local.yml up A Guide to Building a Full-Stack LlamaIndex Web App with Delphic What We’re Building Architectural Overview System Requirements Django Backend React Frontend Deployment Using the Application Project Directory Overview Database Models Django Ninja API Intro to Websockets Websocket Handler Overview Frontend Project Structure Grabbing Collections from the Backend Displaying Collections Chat View Component Prerequisites Build and Deploy Setup Users Websocket connect listener Websocket disconnect listener Websocket receive listener Chat Websocket Client Rendering our Chat Messages Installation and Setup How to read these docs Starter Tutorial High-Level Concepts Customization Tutorial Discover LlamaIndex Video Series Q&A Chatbots Agents Structured Data Extraction Multi-modalToggle child pages in navigation Advanced Multi-Modal Retrieval using GPT4V and Multi-Modal Index/Retriever Multi-modal retrieval with CLIP Retrieval-Augmented Image Captioning Advanced Multi-Modal Retrieval using GPT4V and Multi-Modal Index/Retriever Multi-modal retrieval with CLIP Retrieval-Augmented Image Captioning Building an LLM application Using LLMsToggle child pages in navigation Privacy and Security Privacy and Security LoadingToggle child pages in navigation LlamaHub LlamaHub Indexing Storing Querying Putting It All TogetherToggle child pages in navigation Q&A patternsToggle child pages in navigation A Guide to Extracting Terms and Definitions A Guide to Creating a Unified Query Framework over your Indexes Knowledge Graphs Structured Data A Guide to LlamaIndex + Structured Data Airbyte SQL Index Guide Full-Stack Web ApplicationToggle child pages in navigation A Guide to Building a Full-Stack Web App with LLamaIndex A Guide to Building a Full-Stack LlamaIndex Web App with Delphic How to Build a Chatbot Agents A Guide to Extracting Terms and Definitions A Guide to Creating a Unified Query Framework over your Indexes Knowledge Graphs Structured Data A Guide to LlamaIndex + Structured Data Airbyte SQL Index Guide Full-Stack Web ApplicationToggle child pages in navigation A Guide to Building a Full-Stack Web App with LLamaIndex A Guide to Building a Full-Stack LlamaIndex Web App with Delphic How to Build a Chatbot Agents Tracing and Debugging EvaluatingToggle child pages in navigation Cost AnalysisToggle child pages in navigation Usage Pattern Usage Pattern Basic StrategiesToggle child pages in navigation Accessing/Customizing Prompts within Higher-Level Modules Advanced Prompt Techniques (Variable Mappings, Functions) Prompt Engineering for RAG BM25 Retriever Reciprocal Rerank Fusion Retriever Weaviate Vector Store - Hybrid Search Pinecone Vector Store - Hybrid Search Vector Store Index Defining and Customizing DocumentsToggle child pages in navigation Extracting Metadata for Better Document Indexing and Understanding Defining and Customizing Nodes Automated Metadata Extraction for NodesToggle child pages in navigation Automated Metadata Extraction for Better Retrieval + Synthesis Entity Metadata Extraction Metadata Extraction and Augmentation w/ Marvin Pydantic Extractor Accessing/Customizing Prompts within Higher-Level Modules Advanced Prompt Techniques (Variable Mappings, Functions) Advanced Prompt Techniques (Variable Mappings, Functions) Prompt Engineering for RAG BM25 Retriever Reciprocal Rerank Fusion Retriever Weaviate Vector Store - Hybrid Search Pinecone Vector Store - Hybrid Search Vector Store Index Defining and Customizing DocumentsToggle child pages in navigation Extracting Metadata for Better Document Indexing and Understanding Defining and Customizing Nodes Automated Metadata Extraction for NodesToggle child pages in navigation Extracting Metadata for Better Document Indexing and Understanding Automated Metadata Extraction for Better Retrieval + Synthesis Entity Metadata Extraction Metadata Extraction and Augmentation w/ Marvin Pydantic Extractor Advanced Retrieval StrategiesToggle child pages in navigation Query TransformationsToggle child pages in navigation HyDE Query Transform Multi-Step Query Engine Pydantic ProgramToggle child pages in navigation OpenAI Pydantic Program Guidance Pydantic Program Guidance for Sub-Question Query Engine DataFrame Structured Data Extraction Evaporate Demo Query Engines + Pydantic OutputsToggle child pages in navigation Query Engine with Pydantic Outputs Pydantic Tree Summarize Download Data Structured OutputsToggle child pages in navigation DeepMemory (Activeloop) HyDE Query Transform Multi-Step Query Engine Pydantic ProgramToggle child pages in navigation OpenAI Pydantic Program Guidance Pydantic Program Guidance for Sub-Question Query Engine DataFrame Structured Data Extraction Evaporate Demo Query Engines + Pydantic OutputsToggle child pages in navigation Query Engine with Pydantic Outputs Pydantic Tree Summarize Download Data Structured OutputsToggle child pages in navigation Query Engine with Pydantic Outputs Pydantic Tree Summarize Download Data DeepMemory (Activeloop) Agentic strategiesToggle child pages in navigation Build your own OpenAI Agent OpenAI Agent with Query Engine Tools Retrieval-Augmented OpenAI Agent OpenAI Agent + Query Engine Experimental Cookbook OpenAI Agent Query Planning Context-Augmented OpenAI Agent Build your own OpenAI Agent OpenAI Agent with Query Engine Tools Retrieval-Augmented OpenAI Agent OpenAI Agent + Query Engine Experimental Cookbook OpenAI Agent Query Planning Context-Augmented OpenAI Agent EvaluationToggle child pages in navigation End-to-End EvaluationToggle child pages in navigation QuestionGeneration BatchEvalRunner - Running Multiple Evaluations Correctness Evaluator Faithfulness Evaluator Guideline Evaluator Pairwise Evaluator Relevancy Evaluator Embedding Similarity Evaluator Component Wise EvaluationToggle child pages in navigation BEIR Out of Domain Benchmark HotpotQADistractor Demo EvaluatingToggle child pages in navigation Usage Pattern (Response Evaluation) Usage Pattern (Retrieval) ModulesToggle child pages in navigation LlamaIndex + DeepEval Integration Retrieval Evaluation QuestionGeneration BatchEvalRunner - Running Multiple Evaluations Correctness Evaluator Faithfulness Evaluator Guideline Evaluator Pairwise Evaluator Relevancy Evaluator Embedding Similarity Evaluator Component Wise EvaluationToggle child pages in navigation BEIR Out of Domain Benchmark HotpotQADistractor Demo EvaluatingToggle child pages in navigation Usage Pattern (Response Evaluation) Usage Pattern (Retrieval) ModulesToggle child pages in navigation Faithfulness Evaluator Relevancy Evaluator Guideline Evaluator Correctness Evaluator Embedding Similarity Evaluator LlamaIndex + DeepEval Integration QuestionGeneration BatchEvalRunner - Running Multiple Evaluations Retrieval Evaluation Component Wise EvaluationToggle child pages in navigation BEIR Out of Domain Benchmark HotpotQADistractor Demo End-to-End EvaluationToggle child pages in navigation QuestionGeneration BatchEvalRunner - Running Multiple Evaluations Correctness Evaluator Faithfulness Evaluator Guideline Evaluator Pairwise Evaluator Relevancy Evaluator Embedding Similarity Evaluator Fine-tuningToggle child pages in navigation Fine-tuning an Adapter Embedding Fine-tuning Guide Router Fine-tuning Embedding Fine-tuning Repo Embedding Fine-tuning Blog GPT-3.5 Fine-tuning Notebook (Colab) GPT-3.5 Fine-tuning Notebook (Notebook link) Fine-tuning a gpt-3.5 ReAct Agent on Better Chain of Thought [WIP] Function Calling Fine-tuning GPT-3.5 Fine-tuning Notebook (in Repo) Fine-tuning with Retrieval Augmentation OpenAI Function Calling Fine-tuning Llama2 Structured Output Fine-tuning Fine-tuning to Memorize Knowledge Llama 2 Text-to-SQL Fine-tuning (w/ Gradient.AI) Llama 2 Text-to-SQL Fine-tuning (w/ Modal, Repo) Llama 2 Text-to-SQL Fine-tuning (w/ Modal, Notebook) Knowledge Distillation For Fine-Tuning A GPT-3.5 Judge (Correctness) Knowledge Distillation For Fine-Tuning A GPT-3.5 Judge (Pairwise) Cross-Encoder Finetuning Finetuning Llama 2 for Text-to-SQL Finetuning GPT-3.5 to Distill GPT-4 Fine-tuning an Adapter Embedding Fine-tuning Guide Router Fine-tuning Embedding Fine-tuning Repo Embedding Fine-tuning Blog GPT-3.5 Fine-tuning Notebook (Colab) GPT-3.5 Fine-tuning Notebook (Notebook link) Fine-tuning a gpt-3.5 ReAct Agent on Better Chain of Thought [WIP] Function Calling Fine-tuning GPT-3.5 Fine-tuning Notebook (Colab) GPT-3.5 Fine-tuning Notebook (in Repo) Fine-tuning with Retrieval Augmentation OpenAI Function Calling Fine-tuning Llama2 Structured Output Fine-tuning Fine-tuning to Memorize Knowledge Llama 2 Text-to-SQL Fine-tuning (w/ Gradient.AI) Llama 2 Text-to-SQL Fine-tuning (w/ Modal, Repo) Llama 2 Text-to-SQL Fine-tuning (w/ Modal, Notebook) Knowledge Distillation For Fine-Tuning A GPT-3.5 Judge (Correctness) Knowledge Distillation For Fine-Tuning A GPT-3.5 Judge (Pairwise) Cross-Encoder Finetuning Finetuning Llama 2 for Text-to-SQL Finetuning GPT-3.5 to Distill GPT-4 Building Performant RAG Applications for ProductionToggle child pages in navigation Recursive Retriever + Query Engine Demo Document Summary Index Metadata Replacement + Node Sentence Window Auto-Retrieval from a Vector Database Recursive Retriever + Document Agents Comparing Methods for Structured Retrieval (Auto-Retrieval vs. Recursive Retrieval) Sub Question Query Engine Joint QA Summary Query Engine Router Query Engine Recursive Retriever + Query Engine Demo Document Summary Index Metadata Replacement + Node Sentence Window Auto-Retrieval from a Vector Database Document Summary Index Recursive Retriever + Document Agents Comparing Methods for Structured Retrieval (Auto-Retrieval vs. Recursive Retrieval) Sub Question Query Engine Joint QA Summary Query Engine Recursive Retriever + Document Agents Router Query Engine OpenAI Agent + Query Engine Experimental Cookbook OpenAI Agent Query Planning Embedding Fine-tuning Guide Building RAG from Scratch (Lower-Level)Toggle child pages in navigation Building Data Ingestion from Scratch Pinecone OpenAI Building Retrieval from Scratch Building RAG from Scratch (Open-source only!) Building a (Very Simple) Vector Store from Scratch Building Response Synthesis from Scratch Building Evaluation from Scratch Building a Router from Scratch Building an Advanced Fusion Retriever from Scratch Building Data Ingestion from Scratch Pinecone OpenAI Building Retrieval from Scratch Building RAG from Scratch (Open-source only!) Building a (Very Simple) Vector Store from Scratch Building Response Synthesis from Scratch Building Evaluation from Scratch Building a Router from Scratch Building an Advanced Fusion Retriever from Scratch ModelsToggle child pages in navigation Using LLMsToggle child pages in navigation Using LLMs as standalone modules Customizing LLMs within LlamaIndex Abstractions Available LLM integrationsToggle child pages in navigation Azure OpenAI AI21 Anthropic Gradient Base Model Gradient Model Adapter HuggingFace LLM - Camel-5b HuggingFace LLM - StableLM Local Llama2 + VectorStoreIndex EverlyAI LiteLLM PaLM Predibase Replicate - Llama 2 13B Replicate - Vicuna 13B Llama2 + VectorStoreIndex LangChain LLM Llama API LlamaCPP Xorbits Inference Monster API LLM Integration into LLamaIndex RunGPT Setup Portkey Anyscale Ollama - Llama 2 7B Clarifai LLM Bedrock Connect to Bedrock with Access Keysfrom llama_index.llms import Bedrock Getting Started Streaming Usage Chat Usage Async Chat Streaming Chat EmbeddingsToggle child pages in navigation OpenAI Embeddings Langchain Embeddings CohereAI Embeddings Gradient Embeddings Custom Embeddings Local Embeddings with HuggingFace Elasticsearch Embeddings Embeddings with Clarifai LLMRails Embeddings Text Embedding Inference Google PaLM Embeddings Jina Embeddings PromptsToggle child pages in navigation Completion prompts Chat prompts “Optimization by Prompting” for RAG EmotionPrompt in RAG Using local models Run Llama2 locally [Beta] Multi-modal modelsToggle child pages in navigation Multi-Modal LLM using OpenAI GPT-4V model for image reasoning Multi-Modal LLM using Replicate LlaVa and Fuyu 8B model for image reasoning Multi-Modal Retrieval using GPT text embedding and CLIP image embedding for Wikipedia Articles Using LLMs as standalone modules Customizing LLMs within LlamaIndex Abstractions Available LLM integrationsToggle child pages in navigation OpenAI Azure OpenAI AI21 Anthropic Gradient Base Model Gradient Model Adapter HuggingFace LLM - Camel-5b HuggingFace LLM - StableLM Local Llama2 + VectorStoreIndex EverlyAI LiteLLM PaLM Predibase Replicate - Llama 2 13B Replicate - Vicuna 13B Llama2 + VectorStoreIndex LangChain LLM Llama API LlamaCPP Xorbits Inference Monster API LLM Integration into LLamaIndex RunGPT Setup Portkey Anyscale Ollama - Llama 2 7B Clarifai LLM Bedrock Connect to Bedrock with Access Keysfrom llama_index.llms import Bedrock Getting Started Streaming Usage Chat Usage Async Chat Streaming Chat EmbeddingsToggle child pages in navigation OpenAI Embeddings Langchain Embeddings CohereAI Embeddings Gradient Embeddings Azure OpenAI Custom Embeddings Local Embeddings with HuggingFace Elasticsearch Embeddings Embeddings with Clarifai LLMRails Embeddings Text Embedding Inference Google PaLM Embeddings Jina Embeddings PromptsToggle child pages in navigation Usage Pattern Completion prompts Chat prompts Accessing/Customizing Prompts within Higher-Level Modules Advanced Prompt Techniques (Variable Mappings, Functions) Prompt Engineering for RAG “Optimization by Prompting” for RAG EmotionPrompt in RAG Using local models Run Llama2 locally EmbeddingsToggle child pages in navigation OpenAI Embeddings Langchain Embeddings CohereAI Embeddings Gradient Embeddings Azure OpenAI Custom Embeddings Local Embeddings with HuggingFace Elasticsearch Embeddings Embeddings with Clarifai LLMRails Embeddings Text Embedding Inference Google PaLM Embeddings Jina Embeddings [Beta] Multi-modal modelsToggle child pages in navigation Multi-Modal LLM using OpenAI GPT-4V model for image reasoning Multi-Modal LLM using Replicate LlaVa and Fuyu 8B model for image reasoning Multi-Modal Retrieval using GPT text embedding and CLIP image embedding for Wikipedia Articles Retrieval-Augmented Image Captioning PromptsToggle child pages in navigation Usage Pattern Completion prompts Chat prompts Accessing/Customizing Prompts within Higher-Level Modules Advanced Prompt Techniques (Variable Mappings, Functions) Prompt Engineering for RAG “Optimization by Prompting” for RAG EmotionPrompt in RAG LoadingToggle child pages in navigation Data Connectors (LlamaHub)Toggle child pages in navigation Module GuidesToggle child pages in navigation Simple Directory Reader Psychic Reader DeepLake Reader Qdrant Reader Discord Reader MongoDB Reader Chroma Reader MyScale Reader Faiss Reader Obsidian Reader Slack Reader Web Page Reader Pinecone Reader Mbox Reader MilvusReader Notion Reader Github Repo Reader Google Docs Reader Database Reader Twitter Reader Weaviate Reader Make Reader Deplot Reader Demo Documents / Nodes Node Parser Usage Pattern Module GuidesToggle child pages in navigation Simple Directory Reader Psychic Reader DeepLake Reader Qdrant Reader Discord Reader MongoDB Reader Chroma Reader MyScale Reader Faiss Reader Obsidian Reader Slack Reader Web Page Reader Pinecone Reader Mbox Reader MilvusReader Notion Reader Github Repo Reader Google Docs Reader Database Reader Twitter Reader Weaviate Reader Make Reader Deplot Reader Demo Documents / Nodes Node Parser IndexingToggle child pages in navigation How Each Index Works Usage PatternToggle child pages in navigation Metadata Extraction Document Management Summary Index Tree Index Keyword Table Index Knowledge Graph Index Custom Retriever combining KG Index and VectorStore Index Knowledge Graph Query Engine Knowledge Graph RAG Query Engine REBEL + Knowledge Graph Index REBEL + Wikipedia Filtering SQL Index SQL Query Engine with LlamaIndex + DuckDB ComposabilityToggle child pages in navigation Composable Graph Basic Composable Graph with Weaviate Composable Graph How Each Index Works Usage PatternToggle child pages in navigation Metadata Extraction Document Management Module GuidesToggle child pages in navigation Vector Store Index Summary Index Tree Index Keyword Table Index Knowledge Graph Index Custom Retriever combining KG Index and VectorStore Index Knowledge Graph Query Engine Knowledge Graph RAG Query Engine REBEL + Knowledge Graph Index REBEL + Wikipedia Filtering SQL Index SQL Query Engine with LlamaIndex + DuckDB Document Summary Index ComposabilityToggle child pages in navigation Composable Graph Basic Composable Graph with Weaviate Composable Graph StoringToggle child pages in navigation Customizing Storage Persisting & Loading Data Vector StoresToggle child pages in navigation Astra DB Simple Vector Store - Async Index Creation Azure CosmosDB MongoDB Vector Store Cassandra Vector Store Chroma Azure Cognitive Search Basic Example Create Index (if it does not exist) Use Existing Index Adding a document to existing index Filtering DashVector Vector Store DeepLake Vector Store DocArray Hnsw Vector Store DocArray InMemory Vector Store Epsilla Vector Store LanceDB Vector Store Metal Vector Store Milvus Vector Store MyScale Vector Store Elasticsearch Vector Store Faiss Vector Store MongoDB Atlas Neo4j vector store Opensearch Vector Store Pinecone Vector Store Redis Vector Store Query the data Working with Metadata Qdrant Vector Store Rockset Vector Store Simple Vector Store Supabase Vector Store Tair Vector Store Tencent Cloud VectorDB Timescale Vector Store (PostgreSQL) Weaviate Vector Store Zep Vector Store Create a Zep Vector Store and Index Querying with Metadata filters Document Stores Index Stores Key-Value Stores Using Graph StoresToggle child pages in navigation Neo4j Graph Store Nebula Graph Store Kuzu Graph Store FalkorDB Graph Store Customizing Storage Persisting & Loading Data Vector StoresToggle child pages in navigation Astra DB Simple Vector Store - Async Index Creation Azure CosmosDB MongoDB Vector Store Cassandra Vector Store Chroma Azure Cognitive Search Basic Example Create Index (if it does not exist) Use Existing Index Adding a document to existing index Filtering DashVector Vector Store DeepLake Vector Store DocArray Hnsw Vector Store DocArray InMemory Vector Store Epsilla Vector Store LanceDB Vector Store Metal Vector Store Milvus Vector Store MyScale Vector Store Elasticsearch Vector Store Faiss Vector Store MongoDB Atlas Neo4j vector store Opensearch Vector Store Pinecone Vector Store Pinecone Vector Store - Hybrid Search Redis Vector Store Query the data Working with Metadata Qdrant Vector Store Rockset Vector Store Simple Vector Store Supabase Vector Store Tair Vector Store Tencent Cloud VectorDB Timescale Vector Store (PostgreSQL) Weaviate Vector Store Weaviate Vector Store - Hybrid Search Zep Vector Store Create a Zep Vector Store and Index Querying with Metadata filters Document Stores Index Stores Key-Value Stores Using Graph StoresToggle child pages in navigation Neo4j Graph Store Nebula Graph Store Knowledge Graph Query Engine Kuzu Graph Store FalkorDB Graph Store QueryingToggle child pages in navigation Query EngineToggle child pages in navigation Response Modes Streaming Custom Query Engine Retriever Query Engine Text-to-SQL Guide (Query Engine + Retriever) JSON Query Engine Pandas Query Engine Retriever Router Query Engine SQL Router Query Engine SQL Auto Vector Query Engine SQL Join Query Engine [Beta] Text-to-SQL with PGVector Retry Query Engine CitationQueryEngine Joint Tabular/Semantic QA over Tesla 10K Ensemble Query Engine Guide Multi-Document Agents Multi-Document Agents (V1) FLARE Query Engine Supporting ModulesToggle child pages in navigation Chat EngineToggle child pages in navigation ReAct Chat Engine OpenAI Chat Engine Context Chat Engine Condense Question Chat Engine Simple Chat Engine Data AgentsToggle child pages in navigation GPT Builder Demo Single-Turn Multi-Function Calling OpenAI Agents OpenAI Assistant Agent Benchmarking OpenAI Retrieval API (through Assistant Agent) OpenAI Assistant Advanced Retrieval Cookbook ReAct Agent with Query Engine Tools ToolsToggle child pages in navigation LlamaHub Tools Guide RetrieverToggle child pages in navigation Retriever Modes Retriever ModulesToggle child pages in navigation Define Custom Retriever BM25 Hybrid Retriever Simple Fusion Retriever Custom Retriever (KG Index and Vector Store Index) Knowledge Graph RAG Retriever Auto-Retrieval (with Chroma) Auto-Retrieval (with BagelDB) Router Retriever Ensemble Retrieval Guide Auto Merging Retriever Recursive Retriever + Node References Recursive Retriever + Node References + Braintrust Response SynthesizerToggle child pages in navigation Response Synthesis ModulesToggle child pages in navigation Refine Refine with Structured Answer Filtering Tree Summarize RoutersToggle child pages in navigation Node PostprocessorToggle child pages in navigation Node Postprocessor ModulesToggle child pages in navigation Sentence Embedding Optimizer Cohere Rerank LLM Reranker Demonstration (2021 Lyft 10-k) LLM Reranker Demonstration (Great Gatsby) Recency Filtering Time-Weighted Rerank PII Masking Forward/Backward Augmentation LongContextReorder Output Parsing ModulesToggle child pages in navigation Guardrails Output Parsing Langchain Output Parsing Response Modes Streaming Module GuidesToggle child pages in navigation Custom Query Engine Retriever Query Engine Text-to-SQL Guide (Query Engine + Retriever) JSON Query Engine Pandas Query Engine Knowledge Graph Query Engine Knowledge Graph RAG Query Engine Router Query Engine Retriever Router Query Engine Joint QA Summary Query Engine Sub Question Query Engine Multi-Step Query Engine SQL Router Query Engine SQL Auto Vector Query Engine SQL Join Query Engine [Beta] Text-to-SQL with PGVector SQL Query Engine with LlamaIndex + DuckDB Retry Query Engine CitationQueryEngine Recursive Retriever + Query Engine Demo Joint Tabular/Semantic QA over Tesla 10K Recursive Retriever + Document Agents Ensemble Query Engine Guide Sub Question Query Engine Recursive Retriever + Document Agents Multi-Document Agents Multi-Document Agents (V1) FLARE Query Engine Supporting ModulesToggle child pages in navigation HyDE Query Transform Multi-Step Query Engine Chat EngineToggle child pages in navigation ReAct Chat Engine OpenAI Chat Engine Context Chat Engine Condense Question Chat Engine Simple Chat Engine Data AgentsToggle child pages in navigation Build your own OpenAI Agent OpenAI Agent with Query Engine Tools Retrieval-Augmented OpenAI Agent OpenAI Agent + Query Engine Experimental Cookbook OpenAI Agent Query Planning Context-Augmented OpenAI Agent Recursive Retriever + Document Agents Multi-Document Agents GPT Builder Demo Single-Turn Multi-Function Calling OpenAI Agents OpenAI Assistant Agent Benchmarking OpenAI Retrieval API (through Assistant Agent) OpenAI Assistant Advanced Retrieval Cookbook ReAct Agent with Query Engine Tools ToolsToggle child pages in navigation Usage Pattern LlamaHub Tools Guide RetrieverToggle child pages in navigation Retriever Modes Retriever ModulesToggle child pages in navigation Define Custom Retriever BM25 Hybrid Retriever Simple Fusion Retriever Reciprocal Rerank Fusion Retriever Custom Retriever (KG Index and Vector Store Index) Knowledge Graph RAG Retriever Simple Fusion Retriever Reciprocal Rerank Fusion Retriever Auto-Retrieval (with Chroma) Auto-Retrieval (with BagelDB) Recursive Retriever + Query Engine Demo Router Retriever Ensemble Retrieval Guide Auto Merging Retriever Recursive Retriever + Node References Recursive Retriever + Node References + Braintrust Metadata Replacement + Node Sentence Window Text-to-SQL Guide (Query Engine + Retriever) DeepMemory (Activeloop) Response SynthesizerToggle child pages in navigation Refine Refine with Structured Answer Filtering Tree Summarize Pydantic Tree Summarize RoutersToggle child pages in navigation Router Query Engine Retriever Router Query Engine SQL Router Query Engine Router Retriever Node PostprocessorToggle child pages in navigation Sentence Embedding Optimizer Cohere Rerank LLM Reranker Demonstration (2021 Lyft 10-k) LLM Reranker Demonstration (Great Gatsby) Recency Filtering Time-Weighted Rerank PII Masking Forward/Backward Augmentation Metadata Replacement + Node Sentence Window LongContextReorder Output Parsing ModulesToggle child pages in navigation Guardrails Output Parsing Langchain Output Parsing Guidance Pydantic Program Guidance for Sub-Question Query Engine OpenAI Pydantic Program ObservabilityToggle child pages in navigation Wandb Callback Handler Arize Phoenix Tracing Tutorial OpenInference Callback Handler + Arize Phoenix Evaluating Search and Retrieval with Arize Phoenix Evaluating and Tracking with TruLens Quickstart Guide with LlamaIndex + TruLens Colab HoneyHive LlamaIndex Tracer CallbacksToggle child pages in navigation Token Counting Handler Llama Debug Handler Aim Callback Token Counting - Migration Guide Wandb Callback Handler Arize Phoenix Tracing Tutorial OpenInference Callback Handler + Arize Phoenix Evaluating Search and Retrieval with Arize Phoenix Evaluating and Tracking with TruLens Quickstart Guide with LlamaIndex + TruLens Colab HoneyHive LlamaIndex Tracer CallbacksToggle child pages in navigation Token Counting Handler Llama Debug Handler Wandb Callback Handler Aim Callback OpenInference Callback Handler + Arize Phoenix Token Counting - Migration Guide EvaluatingToggle child pages in navigation Faithfulness Evaluator Relevancy Evaluator Guideline Evaluator Correctness Evaluator Embedding Similarity Evaluator LlamaIndex + DeepEval Integration QuestionGeneration BatchEvalRunner - Running Multiple Evaluations Retrieval Evaluation Supporting ModulesToggle child pages in navigation ServiceContext ServiceContext API ReferenceToggle child pages in navigation IndicesToggle child pages in navigation Table Index Structured Store Index Empty Index Querying an IndexToggle child pages in navigation RetrieversToggle child pages in navigation Empty Index Retriever Knowledge Graph Retriever List Retriever Keyword Table Retrievers Tree Retrievers Vector Store Retrievers Transform Retriever Response Synthesizer Query EnginesToggle child pages in navigation Graph Query Engine Multistep Query Engine Transform Query Engine Flare Query Engine Citation Query Engine SQL Query Engine Chat EnginesToggle child pages in navigation Query Bundle Query Transform Node LLM Predictors LLMsToggle child pages in navigation HuggingFaceLLM LangChainLLM Replicate XOrbits Xinference Prompt Templates Embeddings OpenAIEmbedding HuggingFaceEmbedding OptimumEmbedding InstructorEmbedding LangchainEmbedding GoogleUnivSentEncoderEmbedding Node Postprocessor Storage ContextToggle child pages in navigation Document Store Index Store Vector Store KV Storage Loading Indices Composability Data Connectors Service ContextToggle child pages in navigation PromptHelper Callbacks Structured Index Configuration Evaluation Response Playground Finetuning Memory Example Notebooks Langchain Integrations Summary Index Table Index Tree Index Vector Store Index Structured Store Index Knowledge Graph Index Empty Index Querying an IndexToggle child pages in navigation Empty Index Retriever Knowledge Graph Retriever List Retriever Keyword Table Retrievers Tree Retrievers Vector Store Retrievers Transform Retriever Response Synthesizer Query EnginesToggle child pages in navigation Graph Query Engine Multistep Query Engine Retriever Query Engine Transform Query Engine Router Query Engine Retriever Router Query Engine Sub Question Query Engine SQL Join Query Engine Flare Query Engine Citation Query Engine Knowledge Graph Query Engine SQL Query Engine Pandas Query Engine Chat EnginesToggle child pages in navigation Simple Chat Engine Condense Question Chat Engine Query Bundle Query Transform Node LLM Predictors LLMsToggle child pages in navigation OpenAI Azure OpenAI HuggingFaceLLM LangChainLLM Anthropic Gradient Base Model Gradient Model Adapter LiteLLM LlamaCPP PaLM Predibase Replicate XOrbits Xinference Prompt Templates Embeddings OpenAIEmbedding HuggingFaceEmbedding OptimumEmbedding InstructorEmbedding LangchainEmbedding GoogleUnivSentEncoderEmbedding Node Postprocessor Storage ContextToggle child pages in navigation Document Store Index Store Vector Store KV Storage Loading Indices Composability Data Connectors Service ContextToggle child pages in navigation Embeddings OpenAIEmbedding HuggingFaceEmbedding OptimumEmbedding InstructorEmbedding LangchainEmbedding GoogleUnivSentEncoderEmbedding Node Parser PromptHelper LLMsToggle child pages in navigation OpenAI Azure OpenAI HuggingFaceLLM LangChainLLM Anthropic Gradient Base Model Gradient Model Adapter LiteLLM LlamaCPP PaLM Predibase Replicate XOrbits Xinference Callbacks Structured Index Configuration Evaluation Response Playground Finetuning Memory Example Notebooks Langchain Integrations IntegrationsToggle child pages in navigation ObservabilityToggle child pages in navigation Tracing with Graphsignal Unit Testing LLMs With DeepEval Guidance LM Format Enforcer Guardrails OpenAI Function Calling Using Vector StoresToggle child pages in navigation Using Managed IndicesToggle child pages in navigation Vectara Managed Index Using with Langchain 🦜🔗 Streamlit Chainlit LlamaIndex + Ray ChatGPT Plugin Integrations Poe Airbyte Token Counting Handler Llama Debug Handler Wandb Callback Handler Aim Callback OpenInference Callback Handler + Arize Phoenix Token Counting - Migration Guide Tracing with Graphsignal Evaluating and Tracking with TruLens Unit Testing LLMs With DeepEval Guidance LM Format Enforcer Guardrails OpenAI Function Calling Using Vector StoresToggle child pages in navigation Astra DB Simple Vector Store - Async Index Creation Azure CosmosDB MongoDB Vector Store Cassandra Vector Store Chroma Azure Cognitive Search Basic Example Create Index (if it does not exist) Use Existing Index Adding a document to existing index Filtering DashVector Vector Store DeepLake Vector Store DocArray Hnsw Vector Store DocArray InMemory Vector Store Epsilla Vector Store LanceDB Vector Store Metal Vector Store Milvus Vector Store MyScale Vector Store Elasticsearch Vector Store Faiss Vector Store MongoDB Atlas Neo4j vector store Opensearch Vector Store Pinecone Vector Store Pinecone Vector Store - Hybrid Search Redis Vector Store Query the data Working with Metadata Qdrant Vector Store Rockset Vector Store Simple Vector Store Supabase Vector Store Tair Vector Store Tencent Cloud VectorDB Timescale Vector Store (PostgreSQL) Weaviate Vector Store Weaviate Vector Store - Hybrid Search Zep Vector Store Create a Zep Vector Store and Index Querying with Metadata filters Using Graph StoresToggle child pages in navigation Neo4j Graph Store Nebula Graph Store Knowledge Graph Query Engine Kuzu Graph Store FalkorDB Graph Store Using Managed IndicesToggle child pages in navigation Vectara Managed Index Using with Langchain 🦜🔗 Streamlit Chainlit LlamaIndex + Ray ChatGPT Plugin Integrations Poe Airbyte Frequently Asked Questions (FAQ)Toggle child pages in navigation Large Language Models Vector Database Query Engines Chat Engines Documents and Nodes Large Language Models Embeddings Vector Database Query Engines Chat Engines Documents and Nodes Contributing to LlamaIndex Documentation Guide ChangeLog Deprecated Terms Django Django Channels Django Ninja Redis Celery LlamaIndex Langchain React Docker & Docker Compose contrib: This directory contains custom modifications or additions to Django’s built-in contrib apps. indexes: This directory contains the core functionality related to document indexing and LLM integration. It storage backends, path helpers, and collection-related utilities. Collection: api_key: A foreign key that links a collection to an API key. This helps associate jobs with the source API key. title: A character field that provides a title for the collection. description: A text field that provides a description of the collection. status: A character field that stores the processing status of the collection, utilizing the CollectionStatus and collections. file: A file field that stores the uploaded document file. description: A text field that provides a description of the document. created: A datetime field that records when the document was created. modified: A datetime field that records the last modification time of the document. /heartbeat: A simple GET endpoint to check if the API is up and running. Returns True if the API is accessible. instance associated with the specified collection. Performance: WebSockets eliminate the overhead associated with opening and closing multiple connections for each that require high concurrency. connect: Called when a WebSocket is handshaking as part of the connection process. disconnect: Called when a WebSocket closes for any reason. receive: Called when the server receives a message from the WebSocket. Initializing state variables: Collections are fetched for the logged-in user with the fetchCollections() function: Establishing and managing the WebSocket connection with the server. Displaying messages from the user and the server in a chat-like format. Handling user input to send messages to the server. Updating the messages state and UI based on received messages from the server. Displaying connection status and errors, such as loading messages, connecting to the server, or encountering errors while loading a collection. The chat messages area: This section takes up most of the available space and displays a list of messages exchanged Enter” on their keyboard to send the message. Start your Delphic application locally following the deployment instructions. Visit the Django admin interface by navigating to http://localhost:8000/admin in your browser. Log in with the superuser credentials you created earlier. Click on “Users” under the “Authentication and Authorization” section. Click on the “Add user +” button in the top right corner. Enter the required information for the new user, such as username and password. Click “Save” to create the user. To grant the new user additional permissions or make them a superuser, click on their username in the user list, scroll down to the “Permissions” section, and configure their permissions accordingly. Save your changes. A Guide to Building a Full-Stack LlamaIndex Web App with Delphic What We’re Building Architectural Overview System Requirements Django Backend Project Directory Overview Database Models Django Ninja API Intro to Websockets Websocket Handler Websocket connect listener Websocket disconnect listener Websocket receive listener React Frontend Overview Frontend Project Structure Grabbing Collections from the Backend Displaying Collections Chat View Component Chat Websocket Client Rendering our Chat Messages Deployment Prerequisites Build and Deploy Using the Application Setup Users What We’re Building Architectural Overview System Requirements Django Backend Project Directory Overview Database Models Django Ninja API Intro to Websockets Websocket Handler Websocket connect listener Websocket disconnect listener Websocket receive listener React Frontend Overview Frontend Project Structure Grabbing Collections from the Backend Displaying Collections Chat View Component Chat Websocket Client Rendering our Chat Messages Deployment Prerequisites Build and Deploy Using the Application Setup Users Hide navigation sidebar Hide table of contents sidebar Toggle site navigation sidebar Toggle Light / Dark / Auto color theme Toggle table of contents sidebar Search⌘K Installation and Setup How to read these docs Starter Tutorial High-Level Concepts Customization Tutorial Discover LlamaIndex Video Series Use Cases Q&A Chatbots Structured Data Extraction Multi-modalToggle child pages in navigation Understanding Building an LLM application LoadingToggle child pages in navigation Indexing Storing Querying Putting It All TogetherToggle child pages in navigation Tracing and Debugging Optimizing Basic StrategiesToggle child pages in navigation Advanced Retrieval StrategiesToggle child pages in navigation Agentic strategiesToggle child pages in navigation EvaluationToggle child pages in navigation Fine-tuningToggle child pages in navigation Building Performant RAG Applications for ProductionToggle child pages in navigation Building RAG from Scratch (Lower-Level)Toggle child pages in navigation Module Guides ModelsToggle child pages in navigation IndexingToggle child pages in navigation StoringToggle child pages in navigation QueryingToggle child pages in navigation API Reference API ReferenceToggle child pages in navigation Community IntegrationsToggle child pages in navigation Frequently Asked Questions (FAQ)Toggle child pages in navigation Contributing Contributing to LlamaIndex Documentation Guide Changes ChangeLog Deprecated Terms Versions latest stable v0.8.39 v0.8.38 v0.8.37 v0.8.36 v0.8.25 On GitHub View Documentation hosted by Read the Docs Back to top Edit this page A Guide to Building a Full-Stack LlamaIndex Web App with Delphic This guide seeks to walk you through using LlamaIndex with a production-ready web app starter template the Delphic repo What We’re Building Here’s a quick demo of the out-of-the-box functionality of Delphic: https://user-images.githubusercontent.com/5049984/233236432-aa4980b6-a510-42f3-887a-81485c9644e6.mp4 Architectural Overview Delphic leverages the LlamaIndex python library to let users to create their own document collections they can then query in a responsive frontend. We chose a stack that provides a responsive, robust mix of technologies that can (1) orchestrate complex python functionality upon. The core libraries are: Django Django Channels Django Ninja Redis Celery LlamaIndex Langchain React Docker & Docker Compose Thanks to this modern stack built on the super stable Django web framework, the starter Delphic app boasts a streamlined on MUI React for a responsive and modern user interface. System Requirements Celery doesn’t work on Windows. It may be deployable with Windows Subsystem for Linux, but configuring that is beyond manager (nvm). Django Backend Project Directory Overview The Delphic application has a structured backend directory organization that follows common Django project conventions. From the repo root, in the ./delphic subfolder, the main folders are: contrib: This directory contains custom modifications or additions to Django’s built-in contrib apps. indexes: This directory contains the core functionality related to document indexing and LLM integration. It includes: admin.py: Django admin configuration for the app apps.py: Application configuration models.py: Contains the app’s database models migrations: Directory containing database schema migrations for the app signals.py: Defines any signals for the app tests.py: Unit tests for the app tasks: This directory contains tasks for asynchronous processing using Celery. The index_tasks.py file includes the tasks for creating vector indexes. users: This directory is dedicated to user management, including: utils: This directory contains utility modules and functions that are used across the application, such as custom storage backends, path helpers, and collection-related utilities. Database Models The Delphic application has two core models: Document and Collection. These models represent the central entities ./delphic/indexes/models.py. Collection: api_key: A foreign key that links a collection to an API key. This helps associate jobs with the source API key. title: A character field that provides a title for the collection. description: A text field that provides a description of the collection. status: A character field that stores the processing status of the collection, utilizing the CollectionStatus enumeration. created: A datetime field that records when the collection was created. modified: A datetime field that records the last modification time of the collection. model: A file field that stores the model associated with the collection. processing: A boolean field that indicates if the collection is currently being processed. Document: collection: A foreign key that links a document to a collection. This represents the relationship between documents and collections. file: A file field that stores the uploaded document file. description: A text field that provides a description of the document. created: A datetime field that records when the document was created. modified: A datetime field that records the last modification time of the document. These models provide a solid foundation for collections of documents and the indexes created from them with LlamaIndex. Django Ninja API Django Ninja is a web framework for building APIs with Django and Python 3.7+ type hints. It provides a simple, validation, serialization, and documentation. In the Delphic repo, in the endpoints.py file: /heartbeat: A simple GET endpoint to check if the API is up and running. Returns True if the API is accessible. This is helpful for Kubernetes setups that expect to be able to query your container to ensure it’s up and running. /collections/create: A POST endpoint to create a new Collection. Accepts form parameters such and schedules a Celery task to create an index. @collections_router.post("/create") /collections/query — a POST endpoint to query a document collection using the LLM. Accepts a JSON payload to this REST endpoint to query a specific collection. /collections/available: A GET endpoint that returns a list of all collections created with the user’s API key. The output is serialized using the CollectionModelSchema. /collections/{collection_id}/add_file: A POST endpoint to add a file to an existing collection. Accepts instance associated with the specified collection. Intro to Websockets WebSockets are a communication protocol that enables bidirectional and full-duplex communication between a client and a connection each time, unlike traditional HTTP requests. There are several reasons to use WebSockets, particularly when working with code that takes a long time to load into memory but is quick to run once loaded: Performance: WebSockets eliminate the overhead associated with opening and closing multiple connections for each request, reducing latency. Efficiency: WebSockets allow for real-time communication without the need for polling, resulting in more efficient use of resources and better responsiveness. Scalability: WebSockets can handle a large number of simultaneous connections, making it ideal for applications that require high concurrency. In the case of the Delphic application, using WebSockets makes sense as the LLMs can be expensive to load into memory. processed quickly without the need to reload the model each time. The ASGI configuration file ./config/asgi.py defines how based on their protocol type. In this case, we have two protocol types: “http” and “websocket”. The “http” protocol type uses the standard Django ASGI application to handle HTTP requests, while the “websocket” WebSocket connections related to querying document collections. This configuration allows clients to establish WebSocket connections with the Delphic application to efficiently query document collections using the LLMs, without the need to reload the models for each request. Websocket Handler The CollectionQueryConsumer class the AsyncWebsocketConsumer class provided by Django Channels. The CollectionQueryConsumer class has three main methods: connect: Called when a WebSocket is handshaking as part of the connection process. disconnect: Called when a WebSocket closes for any reason. receive: Called when the server receives a message from the WebSocket. Websocket connect listener The connect method is responsible for establishing the connection, extracting the collection ID from the connection path, loading the collection model, and accepting the connection. Websocket disconnect listener The disconnect method is empty in this case, as there are no additional actions to be taken when the WebSocket is closed. Websocket receive listener The receive method is responsible for processing incoming messages from the WebSocket. It takes the incoming message, markdown string and sent back to the client over the WebSocket connection. To load the collection model, the load_collection_model function is used, which can be found the VectorStoreIndex using the cache file. React Frontend Overview We chose to use TypeScript, React and Material-UI (MUI) for the Delphic project’s frontend for a couple reasons. First, our opinion, pretty easy to learn, again making it accessible. Frontend Project Structure The frontend can be found in the /frontend directory of the server — nginx. The /frontend/src/App.tsx file serves as the entry point of the application. It defines the main components, such as on whether the user is logged in and has an authentication token. The DrawerLayout2 component is defined in theDrawerLayour2.tsx file. This component manages the layout of the application and provides the navigation and main content areas. Since the application is relatively simple, we can get away with not using a complex state management solution like Redux and just use React’s useState hooks. Grabbing Collections from the Backend The collections available to the logged-in user are retrieved and displayed in the DrawerLayout2 component. The process can be broken down into the following steps: Initializing state variables: Here, we initialize two state variables: collections to store the list of collections and loading to track whether the collections are being fetched. Collections are fetched for the logged-in user with the fetchCollections() function: The fetchCollections function retrieves the collections for the logged-in user by calling the getMyCollections API the loading state to false to indicate that fetching is complete. Displaying Collections The latest collectios are displayed in the drawer like this: You’ll notice that the disabled property of a collection’s ListItemButton is set based on whether the collection’s collection. Where the CollectionStatus is RUNNING, we also show a loading wheel over the button. In a separate useEffect hook, we check if any collection in the collections state has a status done. Chat View Component The ChatView component in frontend/src/chat/ChatView.tsx is responsible for handling and displaying a chat interface with the server, sending and receiving messages. Key features of the ChatView component include: Establishing and managing the WebSocket connection with the server. Displaying messages from the user and the server in a chat-like format. Handling user input to send messages to the server. Updating the messages state and UI based on received messages from the server. Displaying connection status and errors, such as loading messages, connecting to the server, or encountering errors while loading a collection. Together, all of this allows users to interact with their selected collection with a very smooth, low-latency experience. Chat Websocket Client The WebSocket connection in the ChatView component is used to establish real-time communication between the client and the server. The WebSocket connection is set up and managed in the ChatView component as follows: First, we want to initialize the the WebSocket reference: const websocket = useRef<WebSocket | null>(null); A websocket reference is created using useRef, which holds the WebSocket object that will be used for connection, without causing unnecessary re-renders. In the ChatView component, the WebSocket connection needs to be established and maintained throughout the lifetime of changes, such as updating messages or displaying errors. The setupWebsocket function is responsible for establishing the WebSocket connection and setting up event handlers to handle different WebSocket events. Overall, the setupWebsocket function looks like this: Notice in a bunch of places we trigger updates to the GUI based on the information from the web socket client. When the component first opens and we try to establish a connection, the onopen listener is triggered. In the cleared, and no messages are awaiting responses: onmessageis triggered when a new message is received from the server through the WebSocket connection. In the callback, the received data is parsed and the messages state is updated with the new message from the server: oncloseis triggered when the WebSocket connection is closed. In the callback, the component checks for a specific event: Finally, onerror is triggered when an error occurs with the WebSocket connection. In the callback, the component updates the states to reflect the error and logs the error event: Rendering our Chat Messages In the ChatView component, the layout is determined using CSS styling and Material-UI components. The main layout within the container is arranged vertically. There are three primary sections within the layout: The chat messages area: This section takes up most of the available space and displays a list of messages exchanged a ChatMessageLoading component to show the loading state while waiting for a server response. The divider: A Material-UI Divider component is used to separate the chat messages area from the input area, creating a clear visual distinction between the two sections. The input area: This section is located at the bottom and allows the user to type and send messages. It contains Enter” on their keyboard to send the message. The user inputs accepted in the ChatView component are text messages that the user types in the TextField. The component processes these text inputs and sends them to the server through the WebSocket connection. Deployment Prerequisites To deploy the app, you’re going to need Docker and Docker Compose installed. If you’re on Ubuntu or another, common the official docker documentation. Build and Deploy The project is based on django-cookiecutter, and it’s pretty easy to get it deployed on a VM and configured to serve it’s just a fairly involved topic to configure your certificates, DNS, etc. For the purposes of this guide, let’s just get running locally. Perhaps we’ll release a guide on production deployment. for starters. This guide assumes your goal is to get the application up and running for use. If you want to develop, most likely you frontend using the node development server. To deploy, first clone the repo: Change into the project directory: Copy the sample environment files: Edit the .django and .postgres configuration files to include your OpenAI API key and set a unique password for your use. GPT4 is supported, assuming you’re authorized to access it. Build the docker compose stack with the --profiles fullstack flag: The fullstack flag instructs compose to build a docker container from the frontend folder and this will be launched setup instructions. Finally, bring up the application: Now, visit localhost:3000 in your browser to see the frontend, and use the Delphic application locally. Using the Application Setup Users In order to actually use the application (at the moment, we intend to make it possible to share certain models with to first create a superuser using the console: Why set up a Django superuser? A Django superuser has all the permissions in the application and can manage all superuser allows you to fully control and manage the application. How to create a Django superuser: 1 Run the following command to create a superuser: sudo docker-compose -f local.yml run django python manage.py createsuperuser 2 You will be prompted to provide a username, email address, and password for the superuser. Enter the required information. How to create additional users using Django admin: Start your Delphic application locally following the deployment instructions. Visit the Django admin interface by navigating to http://localhost:8000/admin in your browser. Log in with the superuser credentials you created earlier. Click on “Users” under the “Authentication and Authorization” section. Click on the “Add user +” button in the top right corner. Enter the required information for the new user, such as username and password. Click “Save” to create the user. To grant the new user additional permissions or make them a superuser, click on their username in the user list, scroll down to the “Permissions” section, and configure their permissions accordingly. Save your changes. Next Previous Copyright © 2022, Jerry Liu Made with Sphinx and @pradyunsg's Furo Toggle Light / Dark / Auto color theme Toggle table of contents sidebar Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation Toggle child pages in navigation 🦙⌘ + K 🦙⌘ + K 🦙 ⌘ + K  LlamaIndex 🦙 0.8.68 (../../../index.html) (../../../index.html) Installation and Setup (../../../getting_started/installation.html) How to read these docs (../../../getting_started/reading.html) Starter Tutorial (../../../getting_started/starter_example.html) High-Level Concepts (../../../getting_started/concepts.html) Customization Tutorial (../../../getting_started/customization.html) Discover LlamaIndex Video Series (../../../getting_started/discover_llamaindex.html) Q&A (../../../use_cases/q_and_a.html) Chatbots (../../../use_cases/chatbots.html) Agents (../../../use_cases/agents.html) Structured Data Extraction (../../../use_cases/extraction.html) Multi-modal (../../../use_cases/multimodal.html) Advanced Multi-Modal Retrieval using GPT4V and Multi-Modal Index/Retriever (../../../examples/multi_modal/gpt4v_multi_modal_retrieval.html) Multi-modal retrieval with CLIP (../../../examples/multi_modal/multi_modal_retrieval.html) Retrieval-Augmented Image Captioning (../../../examples/multi_modal/llava_multi_modal_tesla_10q.html) Building an LLM application (../../understanding.html) Using LLMs (../../using_llms/using_llms.html) Privacy and Security (../../using_llms/privacy.html) Loading (../../loading/loading.html) LlamaHub (../../loading/llamahub.html) Indexing (../../indexing/indexing.html) Storing (../../storing/storing.html) Querying (../../querying/querying.html) Putting It All Together (../putting_it_all_together.html) Q&A patterns (../q_and_a.html) A Guide to Extracting Terms and Definitions (../q_and_a/terms_definitions_tutorial.html) A Guide to Creating a Unified Query Framework over your Indexes (../q_and_a/unified_query.html) Knowledge Graphs (../graphs.html) Structured Data (../structured_data.html) A Guide to LlamaIndex + Structured Data (../structured_data.html#a-guide-to-llamaindex-structured-data) Airbyte SQL Index Guide (../structured_data/Airbyte_demo.html) Full-Stack Web Application (../apps.html) A Guide to Building a Full-Stack Web App with LLamaIndex (fullstack_app_guide.html) A Guide to Building a Full-Stack LlamaIndex Web App with Delphic (#) How to Build a Chatbot (../chatbots/building_a_chatbot.html) Agents (../agents.html) Tracing and Debugging (../../tracing_and_debugging/tracing_and_debugging.html) Evaluating (../../evaluating/evaluating.html) Cost Analysis (../../evaluating/cost_analysis/root.html) Usage Pattern (../../evaluating/cost_analysis/usage_pattern.html) Basic Strategies (../../../optimizing/basic_strategies/basic_strategies.html) Accessing/Customizing Prompts within Higher-Level Modules (../../../examples/prompts/prompt_mixin.html) Advanced Prompt Techniques (Variable Mappings, Functions) (../../../examples/prompts/advanced_prompts.html) Advanced Prompt Techniques (Variable Mappings, Functions) (../../../examples/prompts/advanced_prompts.html) Prompt Engineering for RAG (../../../examples/prompts/prompts_rag.html) BM25 Retriever (../../../examples/retrievers/bm25_retriever.html) Reciprocal Rerank Fusion Retriever (../../../examples/retrievers/reciprocal_rerank_fusion.html) Weaviate Vector Store - Hybrid Search (../../../examples/vector_stores/WeaviateIndexDemo-Hybrid.html) Pinecone Vector Store - Hybrid Search (../../../examples/vector_stores/PineconeIndexDemo-Hybrid.html) Vector Store Index (../../../module_guides/indexing/vector_store_guide.html) Defining and Customizing Documents (../../../module_guides/loading/documents_and_nodes/usage_documents.html) Extracting Metadata for Better Document Indexing and Understanding (../../../examples/metadata_extraction/MetadataExtractionSEC.html) Defining and Customizing Nodes (../../../module_guides/loading/documents_and_nodes/usage_nodes.html) Automated Metadata Extraction for Nodes (../../../module_guides/loading/documents_and_nodes/usage_metadata_extractor.html) Extracting Metadata for Better Document Indexing and Understanding (../../../examples/metadata_extraction/MetadataExtractionSEC.html) Automated Metadata Extraction for Better Retrieval + Synthesis (../../../examples/metadata_extraction/MetadataExtraction_LLMSurvey.html) Entity Metadata Extraction (../../../examples/metadata_extraction/EntityExtractionClimate.html) Metadata Extraction and Augmentation w/ Marvin (../../../examples/metadata_extraction/MarvinMetadataExtractorDemo.html) Pydantic Extractor (../../../examples/metadata_extraction/PydanticExtractor.html) Advanced Retrieval Strategies (../../../optimizing/advanced_retrieval/advanced_retrieval.html) Query Transformations (../../../optimizing/advanced_retrieval/query_transformations.html) HyDE Query Transform (../../../examples/query_transformations/HyDEQueryTransformDemo.html) Multi-Step Query Engine (../../../examples/query_transformations/SimpleIndexDemo-multistep.html) Pydantic Program (../../../optimizing/advanced_retrieval/structured_outputs/pydantic_program.html) OpenAI Pydantic Program (../../../examples/output_parsing/openai_pydantic_program.html) Guidance Pydantic Program (../../../examples/output_parsing/guidance_pydantic_program.html) Guidance for Sub-Question Query Engine (../../../examples/output_parsing/guidance_sub_question.html) DataFrame Structured Data Extraction (../../../examples/output_parsing/df_program.html) Evaporate Demo (../../../examples/output_parsing/evaporate_program.html) Query Engines + Pydantic Outputs (../../../optimizing/advanced_retrieval/structured_outputs/query_engine.html) Query Engine with Pydantic Outputs (../../../examples/query_engine/pydantic_query_engine.html) Pydantic Tree Summarize (../../../examples/response_synthesizers/pydantic_tree_summarize.html) Download Data (../../../examples/response_synthesizers/pydantic_tree_summarize.html#download-data) Structured Outputs (../../../optimizing/advanced_retrieval/structured_outputs/structured_outputs.html) Pydantic Program (../../../optimizing/advanced_retrieval/structured_outputs/pydantic_program.html) OpenAI Pydantic Program (../../../examples/output_parsing/openai_pydantic_program.html) Guidance Pydantic Program (../../../examples/output_parsing/guidance_pydantic_program.html) Guidance for Sub-Question Query Engine (../../../examples/output_parsing/guidance_sub_question.html) DataFrame Structured Data Extraction (../../../examples/output_parsing/df_program.html) Evaporate Demo (../../../examples/output_parsing/evaporate_program.html) Query Engines + Pydantic Outputs (../../../optimizing/advanced_retrieval/structured_outputs/query_engine.html) Query Engine with Pydantic Outputs (../../../examples/query_engine/pydantic_query_engine.html) Pydantic Tree Summarize (../../../examples/response_synthesizers/pydantic_tree_summarize.html) Download Data (../../../examples/response_synthesizers/pydantic_tree_summarize.html#download-data) DeepMemory (Activeloop) (../../../examples/retrievers/deep_memory.html) Agentic strategies (../../../optimizing/agentic_strategies/agentic_strategies.html) Build your own OpenAI Agent (../../../examples/agent/openai_agent.html) OpenAI Agent with Query Engine Tools (../../../examples/agent/openai_agent_with_query_engine.html) Retrieval-Augmented OpenAI Agent (../../../examples/agent/openai_agent_retrieval.html) OpenAI Agent + Query Engine Experimental Cookbook (../../../examples/agent/openai_agent_query_cookbook.html) OpenAI Agent Query Planning (../../../examples/agent/openai_agent_query_plan.html) Context-Augmented OpenAI Agent (../../../examples/agent/openai_agent_context_retrieval.html) Evaluation (../../../optimizing/evaluation/evaluation.html) End-to-End Evaluation (../../../optimizing/evaluation/e2e_evaluation.html) QuestionGeneration (../../../examples/evaluation/QuestionGeneration.html) BatchEvalRunner - Running Multiple Evaluations (../../../examples/evaluation/batch_eval.html) Correctness Evaluator (../../../examples/evaluation/correctness_eval.html) Faithfulness Evaluator (../../../examples/evaluation/faithfulness_eval.html) Guideline Evaluator (../../../examples/evaluation/guideline_eval.html) Pairwise Evaluator (../../../examples/evaluation/pairwise_eval.html) Relevancy Evaluator (../../../examples/evaluation/relevancy_eval.html) Embedding Similarity Evaluator (../../../examples/evaluation/semantic_similarity_eval.html) Component Wise Evaluation (../../../optimizing/evaluation/component_wise_evaluation.html) BEIR Out of Domain Benchmark (../../../examples/evaluation/BeirEvaluation.html) HotpotQADistractor Demo (../../../examples/evaluation/HotpotQADistractor.html) Evaluating (../../../module_guides/evaluating/root.html) Usage Pattern (Response Evaluation) (../../../module_guides/evaluating/usage_pattern.html) Usage Pattern (Retrieval) (../../../module_guides/evaluating/usage_pattern_retrieval.html) Modules (../../../module_guides/evaluating/modules.html) Faithfulness Evaluator (../../../examples/evaluation/faithfulness_eval.html) Relevancy Evaluator (../../../examples/evaluation/relevancy_eval.html) Guideline Evaluator (../../../examples/evaluation/guideline_eval.html) Correctness Evaluator (../../../examples/evaluation/correctness_eval.html) Embedding Similarity Evaluator (../../../examples/evaluation/semantic_similarity_eval.html) LlamaIndex + DeepEval Integration (../../../examples/evaluation/Deepeval.html) QuestionGeneration (../../../examples/evaluation/QuestionGeneration.html) BatchEvalRunner - Running Multiple Evaluations (../../../examples/evaluation/batch_eval.html) Retrieval Evaluation (../../../examples/evaluation/retrieval/retriever_eval.html) Component Wise Evaluation (../../../optimizing/evaluation/component_wise_evaluation.html) BEIR Out of Domain Benchmark (../../../examples/evaluation/BeirEvaluation.html) HotpotQADistractor Demo (../../../examples/evaluation/HotpotQADistractor.html) End-to-End Evaluation (../../../optimizing/evaluation/e2e_evaluation.html) QuestionGeneration (../../../examples/evaluation/QuestionGeneration.html) BatchEvalRunner - Running Multiple Evaluations (../../../examples/evaluation/batch_eval.html) Correctness Evaluator (../../../examples/evaluation/correctness_eval.html) Faithfulness Evaluator (../../../examples/evaluation/faithfulness_eval.html) Guideline Evaluator (../../../examples/evaluation/guideline_eval.html) Pairwise Evaluator (../../../examples/evaluation/pairwise_eval.html) Relevancy Evaluator (../../../examples/evaluation/relevancy_eval.html) Embedding Similarity Evaluator (../../../examples/evaluation/semantic_similarity_eval.html) Fine-tuning (../../../optimizing/fine-tuning/fine-tuning.html) Fine-tuning an Adapter (../../../examples/finetuning/embeddings/finetune_embedding_adapter.html) Embedding Fine-tuning Guide (../../../examples/finetuning/embeddings/finetune_embedding.html) Router Fine-tuning (../../../examples/finetuning/router/router_finetune.html) Embedding Fine-tuning Repo (https://github.com/run-llama/finetune-embedding) Embedding Fine-tuning Blog (https://medium.com/llamaindex-blog/fine-tuning-embeddings-for-rag-with-synthetic-data-e534409a3971) GPT-3.5 Fine-tuning Notebook (Colab) (https://colab.research.google.com/drive/1NgyCJVyrC2xcZ5lxt2frTU862v6eJHlc?usp=sharing) GPT-3.5 Fine-tuning Notebook (Notebook link) (../../../examples/finetuning/openai_fine_tuning.html) Fine-tuning a gpt-3.5 ReAct Agent on Better Chain of Thought (../../../examples/finetuning/react_agent/react_agent_finetune.html) [WIP] Function Calling Fine-tuning (../../../examples/finetuning/openai_fine_tuning_functions.html) GPT-3.5 Fine-tuning Notebook (Colab) (https://colab.research.google.com/drive/1vWeJBXdFEObuihO7Z8ui2CAYkdHQORqo?usp=sharing) GPT-3.5 Fine-tuning Notebook (in Repo) (https://github.com/jerryjliu/llama_index/blob/main/experimental/openai_fine_tuning/openai_fine_tuning.ipynb) Fine-tuning with Retrieval Augmentation (../../../examples/finetuning/knowledge/finetune_retrieval_aug.html) OpenAI Function Calling Fine-tuning (../../../examples/finetuning/openai_fine_tuning_functions.html) Llama2 Structured Output Fine-tuning (../../../examples/finetuning/gradient/gradient_structured.html) Fine-tuning to Memorize Knowledge (../../../examples/finetuning/knowledge/finetune_knowledge.html) Llama 2 Text-to-SQL Fine-tuning (w/ Gradient.AI) (../../../examples/finetuning/gradient/gradient_fine_tuning.html) Llama 2 Text-to-SQL Fine-tuning (w/ Modal, Repo) (https://github.com/run-llama/modal_finetune_sql) Llama 2 Text-to-SQL Fine-tuning (w/ Modal, Notebook) (https://github.com/run-llama/modal_finetune_sql/blob/main/tutorial.ipynb) Knowledge Distillation For Fine-Tuning A GPT-3.5 Judge (Correctness) (../../../examples/finetuning/llm_judge/correctness/finetune_llm_judge_single_grading_correctness.html) Knowledge Distillation For Fine-Tuning A GPT-3.5 Judge (Pairwise) (../../../examples/finetuning/llm_judge/pairwise/finetune_llm_judge.html) Cross-Encoder Finetuning (../../../examples/finetuning/cross_encoder_finetuning/cross_encoder_finetuning.html) Finetuning Llama 2 for Text-to-SQL (https://medium.com/llamaindex-blog/easily-finetune-llama-2-for-your-text-to-sql-applications-ecd53640e10d) Finetuning GPT-3.5 to Distill GPT-4 (https://colab.research.google.com/drive/1vWeJBXdFEObuihO7Z8ui2CAYkdHQORqo?usp=sharing) Building Performant RAG Applications for Production (../../../optimizing/production_rag.html) Recursive Retriever + Query Engine Demo (../../../examples/query_engine/pdf_tables/recursive_retriever.html) Document Summary Index (../../../examples/index_structs/doc_summary/DocSummary.html) Metadata Replacement + Node Sentence Window (../../../examples/node_postprocessor/MetadataReplacementDemo.html) Auto-Retrieval from a Vector Database (../../../examples/vector_stores/chroma_auto_retriever.html) Document Summary Index (../../../examples/index_structs/doc_summary/DocSummary.html) Recursive Retriever + Document Agents (../../../examples/query_engine/recursive_retriever_agents.html) Comparing Methods for Structured Retrieval (Auto-Retrieval vs. Recursive Retrieval) (../../../examples/retrievers/auto_vs_recursive_retriever.html) Sub Question Query Engine (../../../examples/query_engine/sub_question_query_engine.html) Joint QA Summary Query Engine (../../../examples/query_engine/JointQASummary.html) Recursive Retriever + Document Agents (../../../examples/query_engine/recursive_retriever_agents.html) Router Query Engine (../../../examples/query_engine/RouterQueryEngine.html) OpenAI Agent + Query Engine Experimental Cookbook (../../../examples/agent/openai_agent_query_cookbook.html) OpenAI Agent Query Planning (../../../examples/agent/openai_agent_query_plan.html) Embedding Fine-tuning Guide (../../../examples/finetuning/embeddings/finetune_embedding.html) Building RAG from Scratch (Lower-Level) (../../../optimizing/building_rag_from_scratch.html) Building Data Ingestion from Scratch (../../../examples/low_level/ingestion.html) Pinecone (../../../examples/low_level/ingestion.html#pinecone) OpenAI (../../../examples/low_level/ingestion.html#openai) Building Retrieval from Scratch (../../../examples/low_level/retrieval.html) Building RAG from Scratch (Open-source only!) (../../../examples/low_level/oss_ingestion_retrieval.html) Building a (Very Simple) Vector Store from Scratch (../../../examples/low_level/vector_store.html) Building Response Synthesis from Scratch (../../../examples/low_level/response_synthesis.html) Building Evaluation from Scratch (../../../examples/low_level/evaluation.html) Building a Router from Scratch (../../../examples/low_level/router.html) Building an Advanced Fusion Retriever from Scratch (../../../examples/low_level/fusion_retriever.html) Models (../../../module_guides/models/models.html) Using LLMs (../../../module_guides/models/llms.html) Using LLMs as standalone modules (../../../module_guides/models/llms/usage_standalone.html) Customizing LLMs within LlamaIndex Abstractions (../../../module_guides/models/llms/usage_custom.html) Available LLM integrations (../../../module_guides/models/llms/modules.html) OpenAI (../../../examples/llm/openai.html) Azure OpenAI (../../../examples/llm/azure_openai.html) AI21 (../../../examples/llm/ai21.html) Anthropic (../../../examples/llm/anthropic.html) Gradient Base Model (../../../examples/llm/gradient_base_model.html) Gradient Model Adapter (../../../examples/llm/gradient_model_adapter.html) HuggingFace LLM - Camel-5b (../../../examples/customization/llms/SimpleIndexDemo-Huggingface_camel.html) HuggingFace LLM - StableLM (../../../examples/customization/llms/SimpleIndexDemo-Huggingface_stablelm.html) Local Llama2 + VectorStoreIndex (../../../examples/vector_stores/SimpleIndexDemoLlama-Local.html) EverlyAI (../../../examples/llm/everlyai.html) LiteLLM (../../../examples/llm/litellm.html) PaLM (../../../examples/llm/palm.html) Predibase (../../../examples/llm/predibase.html) Replicate - Llama 2 13B (../../../examples/llm/llama_2.html) Replicate - Vicuna 13B (../../../examples/llm/vicuna.html) Llama2 + VectorStoreIndex (../../../examples/vector_stores/SimpleIndexDemoLlama2.html) LangChain LLM (../../../examples/llm/langchain.html) Llama API (../../../examples/llm/llama_api.html) LlamaCPP (../../../examples/llm/llama_2_llama_cpp.html) Xorbits Inference (../../../examples/llm/xinference_local_deployment.html) Monster API LLM Integration into LLamaIndex (../../../examples/llm/monsterapi.html) RunGPT (../../../examples/llm/rungpt.html) Setup (../../../examples/llm/rungpt.html#setup) Portkey (../../../examples/llm/portkey.html) Anyscale (../../../examples/llm/anyscale.html) Ollama - Llama 2 7B (../../../examples/llm/ollama.html) Clarifai LLM (../../../examples/llm/clarifai.html) Bedrock (../../../examples/llm/bedrock.html) Connect to Bedrock with Access Keysfrom llama_index.llms import Bedrock (../../../examples/llm/bedrock.html#connect-to-bedrock-with-access-keysfrom-llama-index-llms-import-bedrock) Getting Started (../../../examples/llm/vertex.html) Streaming Usage (../../../examples/llm/vertex.html#streaming-usage) Chat Usage (../../../examples/llm/vertex.html#chat-usage) Async Chat (../../../examples/llm/vertex.html#async-chat) Streaming Chat (../../../examples/llm/vertex.html#streaming-chat) Embeddings (../../../module_guides/models/embeddings.html) OpenAI Embeddings (../../../examples/embeddings/OpenAI.html) Langchain Embeddings (../../../examples/embeddings/Langchain.html) CohereAI Embeddings (../../../examples/embeddings/cohereai.html) Gradient Embeddings (../../../examples/embeddings/gradient.html) Azure OpenAI (../../../examples/customization/llms/AzureOpenAI.html) Custom Embeddings (../../../examples/embeddings/custom_embeddings.html) Local Embeddings with HuggingFace (../../../examples/embeddings/huggingface.html) Elasticsearch Embeddings (../../../examples/embeddings/elasticsearch.html) Embeddings with Clarifai (../../../examples/embeddings/clarifai.html) LLMRails Embeddings (../../../examples/embeddings/llm_rails.html) Text Embedding Inference (../../../examples/embeddings/text_embedding_inference.html) Google PaLM Embeddings (../../../examples/embeddings/google_palm.html) Jina Embeddings (../../../examples/embeddings/jinaai_embeddings.html) Prompts (../../../module_guides/models/prompts.html) Usage Pattern (../../../module_guides/models/prompts/usage_pattern.html) Completion prompts (../../../examples/customization/prompts/completion_prompts.html) Chat prompts (../../../examples/customization/prompts/chat_prompts.html) Accessing/Customizing Prompts within Higher-Level Modules (../../../examples/prompts/prompt_mixin.html) Advanced Prompt Techniques (Variable Mappings, Functions) (../../../examples/prompts/advanced_prompts.html) Prompt Engineering for RAG (../../../examples/prompts/prompts_rag.html) “Optimization by Prompting” for RAG (../../../examples/prompts/prompt_optimization.html) EmotionPrompt in RAG (../../../examples/prompts/emotion_prompt.html) Using local models (../../../module_guides/models/llms/local.html) Run Llama2 locally (https://replicate.com/blog/run-llama-locally) Embeddings (../../../module_guides/models/embeddings.html) OpenAI Embeddings (../../../examples/embeddings/OpenAI.html) Langchain Embeddings (../../../examples/embeddings/Langchain.html) CohereAI Embeddings (../../../examples/embeddings/cohereai.html) Gradient Embeddings (../../../examples/embeddings/gradient.html) Azure OpenAI (../../../examples/customization/llms/AzureOpenAI.html) Custom Embeddings (../../../examples/embeddings/custom_embeddings.html) Local Embeddings with HuggingFace (../../../examples/embeddings/huggingface.html) Elasticsearch Embeddings (../../../examples/embeddings/elasticsearch.html) Embeddings with Clarifai (../../../examples/embeddings/clarifai.html) LLMRails Embeddings (../../../examples/embeddings/llm_rails.html) Text Embedding Inference (../../../examples/embeddings/text_embedding_inference.html) Google PaLM Embeddings (../../../examples/embeddings/google_palm.html) Jina Embeddings (../../../examples/embeddings/jinaai_embeddings.html) [Beta] Multi-modal models (../../../module_guides/models/multi_modal.html) Multi-Modal LLM using OpenAI GPT-4V model for image reasoning (../../../examples/multi_modal/openai_multi_modal.html) Multi-Modal LLM using Replicate LlaVa and Fuyu 8B model for image reasoning (../../../examples/multi_modal/replicate_multi_modal.html) Multi-Modal Retrieval using GPT text embedding and CLIP image embedding for Wikipedia Articles (../../../examples/multi_modal/multi_modal_retrieval.html) Retrieval-Augmented Image Captioning (../../../examples/multi_modal/llava_multi_modal_tesla_10q.html) Prompts (../../../module_guides/models/prompts.html) Usage Pattern (../../../module_guides/models/prompts/usage_pattern.html) Completion prompts (../../../examples/customization/prompts/completion_prompts.html) Chat prompts (../../../examples/customization/prompts/chat_prompts.html) Accessing/Customizing Prompts within Higher-Level Modules (../../../examples/prompts/prompt_mixin.html) Advanced Prompt Techniques (Variable Mappings, Functions) (../../../examples/prompts/advanced_prompts.html) Prompt Engineering for RAG (../../../examples/prompts/prompts_rag.html) “Optimization by Prompting” for RAG (../../../examples/prompts/prompt_optimization.html) EmotionPrompt in RAG (../../../examples/prompts/emotion_prompt.html) Loading (../../../module_guides/loading/loading.html) Data Connectors (LlamaHub) (../../../module_guides/loading/connector/root.html) Usage Pattern (../../../module_guides/loading/connector/usage_pattern.html) Module Guides (../../../module_guides/loading/connector/modules.html) Simple Directory Reader (../../../examples/data_connectors/simple_directory_reader.html) Psychic Reader (../../../examples/data_connectors/PsychicDemo.html) DeepLake Reader (../../../examples/data_connectors/DeepLakeReader.html) Qdrant Reader (../../../examples/data_connectors/QdrantDemo.html) Discord Reader (../../../examples/data_connectors/DiscordDemo.html) MongoDB Reader (../../../examples/data_connectors/MongoDemo.html) Chroma Reader (../../../examples/data_connectors/ChromaDemo.html) MyScale Reader (../../../examples/data_connectors/MyScaleReaderDemo.html) Faiss Reader (../../../examples/data_connectors/FaissDemo.html) Obsidian Reader (../../../examples/data_connectors/ObsidianReaderDemo.html) Slack Reader (../../../examples/data_connectors/SlackDemo.html) Web Page Reader (../../../examples/data_connectors/WebPageDemo.html) Pinecone Reader (../../../examples/data_connectors/PineconeDemo.html) Mbox Reader (../../../examples/data_connectors/MboxReaderDemo.html) MilvusReader (../../../examples/data_connectors/MilvusReaderDemo.html) Notion Reader (../../../examples/data_connectors/NotionDemo.html) Github Repo Reader (../../../examples/data_connectors/GithubRepositoryReaderDemo.html) Google Docs Reader (../../../examples/data_connectors/GoogleDocsDemo.html) Database Reader (../../../examples/data_connectors/DatabaseReaderDemo.html) Twitter Reader (../../../examples/data_connectors/TwitterDemo.html) Weaviate Reader (../../../examples/data_connectors/WeaviateDemo.html) Make Reader (../../../examples/data_connectors/MakeDemo.html) Deplot Reader Demo (../../../examples/data_connectors/deplot/DeplotReader.html) Documents / Nodes (../../../module_guides/loading/documents_and_nodes/root.html) Node Parser (../../../module_guides/loading/node_parsers/root.html) Indexing (../../../module_guides/indexing/indexing.html) How Each Index Works (../../../module_guides/indexing/index_guide.html) Usage Pattern (../../../module_guides/indexing/usage_pattern.html) Metadata Extraction (../../../module_guides/indexing/metadata_extraction.html) Document Management (../../../module_guides/indexing/document_management.html) Module Guides (../../../module_guides/indexing/modules.html) Vector Store Index (../../../module_guides/indexing/vector_store_guide.html) Summary Index (../../../module_guides/indexing/index_guide.html) Tree Index (../../../module_guides/indexing/index_guide.html) Keyword Table Index (../../../module_guides/indexing/index_guide.html) Knowledge Graph Index (../../../examples/index_structs/knowledge_graph/KnowledgeGraphDemo.html) Custom Retriever combining KG Index and VectorStore Index (../../../examples/index_structs/knowledge_graph/KnowledgeGraphIndex_vs_VectorStoreIndex_vs_CustomIndex_combined.html) Knowledge Graph Query Engine (../../../examples/query_engine/knowledge_graph_query_engine.html) Knowledge Graph RAG Query Engine (../../../examples/query_engine/knowledge_graph_rag_query_engine.html) REBEL + Knowledge Graph Index (https://colab.research.google.com/drive/1G6pcR0pXvSkdMQlAK_P-IrYgo-_staxd?usp=sharing) REBEL + Wikipedia Filtering (../../../examples/index_structs/knowledge_graph/knowledge_graph2.html) SQL Index (../../../examples/index_structs/struct_indices/SQLIndexDemo.html) SQL Query Engine with LlamaIndex + DuckDB (../../../examples/index_structs/struct_indices/duckdb_sql_query.html) Document Summary Index (../../../examples/index_structs/doc_summary/DocSummary.html) Composability (../../../module_guides/indexing/composability.html) Composable Graph Basic (../../../examples/composable_indices/ComposableIndices-Prior.html) Composable Graph with Weaviate (../../../examples/composable_indices/ComposableIndices-Weaviate.html) Composable Graph (../../../examples/composable_indices/ComposableIndices.html) Storing (../../../module_guides/storing/storing.html) Customizing Storage (../../../module_guides/storing/customization.html) Persisting & Loading Data (../../../module_guides/storing/save_load.html) Vector Stores (../../../module_guides/storing/vector_stores.html) Astra DB (../../../examples/vector_stores/AstraDBIndexDemo.html) Simple Vector Store - Async Index Creation (../../../examples/vector_stores/AsyncIndexCreationDemo.html) Azure CosmosDB MongoDB Vector Store (../../../examples/vector_stores/AzureCosmosDBMongoDBvCoreDemo.html) Cassandra Vector Store (../../../examples/vector_stores/CassandraIndexDemo.html) Chroma (../../../examples/vector_stores/ChromaIndexDemo.html) Azure Cognitive Search (../../../examples/vector_stores/CognitiveSearchIndexDemo.html) Basic Example (../../../examples/vector_stores/CognitiveSearchIndexDemo.html#basic-example) Create Index (if it does not exist) (../../../examples/vector_stores/CognitiveSearchIndexDemo.html#create-index-if-it-does-not-exist) Use Existing Index (../../../examples/vector_stores/CognitiveSearchIndexDemo.html#use-existing-index) Adding a document to existing index (../../../examples/vector_stores/CognitiveSearchIndexDemo.html#adding-a-document-to-existing-index) Filtering (../../../examples/vector_stores/CognitiveSearchIndexDemo.html#filtering) DashVector Vector Store (../../../examples/vector_stores/DashvectorIndexDemo.html) DeepLake Vector Store (../../../examples/vector_stores/DeepLakeIndexDemo.html) DocArray Hnsw Vector Store (../../../examples/vector_stores/DocArrayHnswIndexDemo.html) DocArray InMemory Vector Store (../../../examples/vector_stores/DocArrayInMemoryIndexDemo.html) Epsilla Vector Store (../../../examples/vector_stores/EpsillaIndexDemo.html) LanceDB Vector Store (../../../examples/vector_stores/LanceDBIndexDemo.html) Metal Vector Store (../../../examples/vector_stores/MetalIndexDemo.html) Milvus Vector Store (../../../examples/vector_stores/MilvusIndexDemo.html) MyScale Vector Store (../../../examples/vector_stores/MyScaleIndexDemo.html) Elasticsearch Vector Store (../../../examples/vector_stores/ElasticsearchIndexDemo.html) Faiss Vector Store (../../../examples/vector_stores/FaissIndexDemo.html) MongoDB Atlas (../../../examples/vector_stores/MongoDBAtlasVectorSearch.html) Neo4j vector store (../../../examples/vector_stores/Neo4jVectorDemo.html) Opensearch Vector Store (../../../examples/vector_stores/OpensearchDemo.html) Pinecone Vector Store (../../../examples/vector_stores/PineconeIndexDemo.html) Pinecone Vector Store - Hybrid Search (../../../examples/vector_stores/PineconeIndexDemo-Hybrid.html) Redis Vector Store (../../../examples/vector_stores/RedisIndexDemo.html) Query the data (../../../examples/vector_stores/RedisIndexDemo.html#query-the-data) Working with Metadata (../../../examples/vector_stores/RedisIndexDemo.html#working-with-metadata) Qdrant Vector Store (../../../examples/vector_stores/QdrantIndexDemo.html) Rockset Vector Store (../../../examples/vector_stores/RocksetIndexDemo.html) Simple Vector Store (../../../examples/vector_stores/SimpleIndexDemo.html) Supabase Vector Store (../../../examples/vector_stores/SupabaseVectorIndexDemo.html) Tair Vector Store (../../../examples/vector_stores/TairIndexDemo.html) Tencent Cloud VectorDB (../../../examples/vector_stores/TencentVectorDBIndexDemo.html) Timescale Vector Store (PostgreSQL) (../../../examples/vector_stores/Timescalevector.html) Weaviate Vector Store (../../../examples/vector_stores/WeaviateIndexDemo.html) Weaviate Vector Store - Hybrid Search (../../../examples/vector_stores/WeaviateIndexDemo-Hybrid.html) Zep Vector Store (../../../examples/vector_stores/ZepIndexDemo.html) Create a Zep Vector Store and Index (../../../examples/vector_stores/ZepIndexDemo.html#create-a-zep-vector-store-and-index) Querying with Metadata filters (../../../examples/vector_stores/ZepIndexDemo.html#querying-with-metadata-filters) Document Stores (../../../module_guides/storing/docstores.html) Index Stores (../../../module_guides/storing/index_stores.html) Key-Value Stores (../../../module_guides/storing/kv_stores.html) Using Graph Stores (../../../community/integrations/graph_stores.html) Neo4j Graph Store (../../../examples/index_structs/knowledge_graph/Neo4jKGIndexDemo.html) Nebula Graph Store (../../../examples/index_structs/knowledge_graph/NebulaGraphKGIndexDemo.html) Knowledge Graph Query Engine (../../../examples/query_engine/knowledge_graph_query_engine.html) Kuzu Graph Store (../../../examples/index_structs/knowledge_graph/KuzuGraphDemo.html) FalkorDB Graph Store (../../../examples/index_structs/knowledge_graph/FalkorDBGraphDemo.html) Querying (../../../module_guides/querying/querying.html) Query Engine (../../../module_guides/deploying/query_engine/root.html) Usage Pattern (../../../module_guides/deploying/query_engine/usage_pattern.html) Response Modes (../../../module_guides/deploying/query_engine/response_modes.html) Streaming (../../../module_guides/deploying/query_engine/streaming.html) Module Guides (../../../module_guides/deploying/query_engine/modules.html) Custom Query Engine (../../../examples/query_engine/custom_query_engine.html) Retriever Query Engine (../../../examples/query_engine/CustomRetrievers.html) Text-to-SQL Guide (Query Engine + Retriever) (../../../examples/index_structs/struct_indices/SQLIndexDemo.html) JSON Query Engine (../../../examples/query_engine/json_query_engine.html) Pandas Query Engine (../../../examples/query_engine/pandas_query_engine.html) Knowledge Graph Query Engine (../../../examples/query_engine/knowledge_graph_query_engine.html) Knowledge Graph RAG Query Engine (../../../examples/query_engine/knowledge_graph_rag_query_engine.html) Router Query Engine (../../../examples/query_engine/RouterQueryEngine.html) Retriever Router Query Engine (../../../examples/query_engine/RetrieverRouterQueryEngine.html) Joint QA Summary Query Engine (../../../examples/query_engine/JointQASummary.html) Sub Question Query Engine (../../../examples/query_engine/sub_question_query_engine.html) Multi-Step Query Engine (../../../examples/query_transformations/SimpleIndexDemo-multistep.html) SQL Router Query Engine (../../../examples/query_engine/SQLRouterQueryEngine.html) SQL Auto Vector Query Engine (../../../examples/query_engine/SQLAutoVectorQueryEngine.html) SQL Join Query Engine (../../../examples/query_engine/SQLJoinQueryEngine.html) [Beta] Text-to-SQL with PGVector (../../../examples/query_engine/pgvector_sql_query_engine.html) SQL Query Engine with LlamaIndex + DuckDB (../../../examples/index_structs/struct_indices/duckdb_sql_query.html) Retry Query Engine (../../../examples/evaluation/RetryQuery.html) CitationQueryEngine (../../../examples/query_engine/citation_query_engine.html) Recursive Retriever + Query Engine Demo (../../../examples/query_engine/pdf_tables/recursive_retriever.html) Joint Tabular/Semantic QA over Tesla 10K (../../../examples/query_engine/sec_tables/tesla_10q_table.html) Recursive Retriever + Document Agents (../../../examples/query_engine/recursive_retriever_agents.html) Ensemble Query Engine Guide (../../../examples/query_engine/ensemble_query_engine.html) Sub Question Query Engine (../../../examples/query_engine/sub_question_query_engine.html) Recursive Retriever + Document Agents (../../../examples/query_engine/recursive_retriever_agents.html) Multi-Document Agents (../../../examples/agent/multi_document_agents.html) Multi-Document Agents (V1) (../../../examples/agent/multi_document_agents-v1.html) FLARE Query Engine (../../../examples/query_engine/flare_query_engine.html) Supporting Modules (../../../module_guides/deploying/query_engine/supporting_modules.html) Query Transformations (../../../optimizing/advanced_retrieval/query_transformations.html) HyDE Query Transform (../../../examples/query_transformations/HyDEQueryTransformDemo.html) Multi-Step Query Engine (../../../examples/query_transformations/SimpleIndexDemo-multistep.html) Chat Engine (../../../module_guides/deploying/chat_engines/root.html) Usage Pattern (../../../module_guides/deploying/chat_engines/usage_pattern.html) Module Guides (../../../module_guides/deploying/chat_engines/modules.html) ReAct Chat Engine (../../../examples/chat_engine/chat_engine_react.html) OpenAI Chat Engine (../../../examples/chat_engine/chat_engine_openai.html) Context Chat Engine (../../../examples/chat_engine/chat_engine_context.html) Condense Question Chat Engine (../../../examples/chat_engine/chat_engine_condense_question.html) Simple Chat Engine (../../../examples/chat_engine/chat_engine_repl.html) Data Agents (../../../module_guides/deploying/agents/root.html) Usage Pattern (../../../module_guides/deploying/agents/usage_pattern.html) Module Guides (../../../module_guides/deploying/agents/modules.html) Build your own OpenAI Agent (../../../examples/agent/openai_agent.html) OpenAI Agent with Query Engine Tools (../../../examples/agent/openai_agent_with_query_engine.html) Retrieval-Augmented OpenAI Agent (../../../examples/agent/openai_agent_retrieval.html) OpenAI Agent + Query Engine Experimental Cookbook (../../../examples/agent/openai_agent_query_cookbook.html) OpenAI Agent Query Planning (../../../examples/agent/openai_agent_query_plan.html) Context-Augmented OpenAI Agent (../../../examples/agent/openai_agent_context_retrieval.html) Recursive Retriever + Document Agents (../../../examples/query_engine/recursive_retriever_agents.html) Multi-Document Agents (../../../examples/agent/multi_document_agents.html) GPT Builder Demo (../../../examples/agent/agent_builder.html) Single-Turn Multi-Function Calling OpenAI Agents (../../../examples/agent/openai_agent_parallel_function_calling.html) OpenAI Assistant Agent (../../../examples/agent/openai_assistant_agent.html) Benchmarking OpenAI Retrieval API (through Assistant Agent) (../../../examples/agent/openai_retrieval_benchmark.html) OpenAI Assistant Advanced Retrieval Cookbook (../../../examples/agent/openai_assistant_query_cookbook.html) ReAct Agent with Query Engine Tools (../../../examples/agent/react_agent_with_query_engine.html) Tools (../../../module_guides/deploying/agents/tools/root.html) Usage Pattern (../../../module_guides/deploying/agents/tools/usage_pattern.html) LlamaHub Tools Guide (../../../module_guides/deploying/agents/tools/llamahub_tools_guide.html) Retriever (../../../module_guides/querying/retriever/root.html) Retriever Modes (../../../module_guides/querying/retriever/retriever_modes.html) Retriever Modules (../../../module_guides/querying/retriever/retrievers.html) Define Custom Retriever (../../../examples/query_engine/CustomRetrievers.html) BM25 Hybrid Retriever (../../../examples/retrievers/bm25_retriever.html) Simple Fusion Retriever (../../../examples/retrievers/simple_fusion.html) Reciprocal Rerank Fusion Retriever (../../../examples/retrievers/reciprocal_rerank_fusion.html) Custom Retriever (KG Index and Vector Store Index) (../../../examples/index_structs/knowledge_graph/KnowledgeGraphIndex_vs_VectorStoreIndex_vs_CustomIndex_combined.html) Knowledge Graph RAG Retriever (../../../examples/query_engine/knowledge_graph_rag_query_engine.html) Simple Fusion Retriever (../../../examples/retrievers/simple_fusion.html) Reciprocal Rerank Fusion Retriever (../../../examples/retrievers/reciprocal_rerank_fusion.html) Auto-Retrieval (with Chroma) (../../../examples/vector_stores/chroma_auto_retriever.html) Auto-Retrieval (with BagelDB) (../../../examples/vector_stores/BagelAutoRetriever.html) Recursive Retriever + Query Engine Demo (../../../examples/query_engine/pdf_tables/recursive_retriever.html) Router Retriever (../../../examples/retrievers/router_retriever.html) Ensemble Retrieval Guide (../../../examples/retrievers/ensemble_retrieval.html) Auto Merging Retriever (../../../examples/retrievers/auto_merging_retriever.html) Recursive Retriever + Node References (../../../examples/retrievers/recursive_retriever_nodes.html) Recursive Retriever + Node References + Braintrust (../../../examples/retrievers/recurisve_retriever_nodes_braintrust.html) Metadata Replacement + Node Sentence Window (../../../examples/node_postprocessor/MetadataReplacementDemo.html) Text-to-SQL Guide (Query Engine + Retriever) (../../../examples/index_structs/struct_indices/SQLIndexDemo.html) DeepMemory (Activeloop) (../../../examples/retrievers/deep_memory.html) Response Synthesizer (../../../module_guides/querying/response_synthesizers/root.html) Response Synthesis Modules (../../../module_guides/querying/response_synthesizers/response_synthesizers.html) Refine (../../../examples/response_synthesizers/refine.html) Refine with Structured Answer Filtering (../../../examples/response_synthesizers/structured_refine.html) Tree Summarize (../../../examples/response_synthesizers/tree_summarize.html) Pydantic Tree Summarize (../../../examples/response_synthesizers/custom_prompt_synthesizer.html) Routers (../../../module_guides/querying/router/root.html) Router Query Engine (../../../examples/query_engine/RouterQueryEngine.html) Retriever Router Query Engine (../../../examples/query_engine/RetrieverRouterQueryEngine.html) SQL Router Query Engine (../../../examples/query_engine/SQLRouterQueryEngine.html) Router Retriever (../../../examples/retrievers/router_retriever.html) Node Postprocessor (../../../module_guides/querying/node_postprocessors/root.html) Node Postprocessor Modules (../../../module_guides/querying/node_postprocessors/node_postprocessors.html) Sentence Embedding Optimizer (../../../examples/node_postprocessor/OptimizerDemo.html) Cohere Rerank (../../../examples/node_postprocessor/CohereRerank.html) LLM Reranker Demonstration (2021 Lyft 10-k) (../../../examples/node_postprocessor/LLMReranker-Lyft-10k.html) LLM Reranker Demonstration (Great Gatsby) (../../../examples/node_postprocessor/LLMReranker-Gatsby.html) Recency Filtering (../../../examples/node_postprocessor/RecencyPostprocessorDemo.html) Time-Weighted Rerank (../../../examples/node_postprocessor/TimeWeightedPostprocessorDemo.html) PII Masking (../../../examples/node_postprocessor/PII.html) Forward/Backward Augmentation (../../../examples/node_postprocessor/PrevNextPostprocessorDemo.html) Metadata Replacement + Node Sentence Window (../../../examples/node_postprocessor/MetadataReplacementDemo.html) LongContextReorder (../../../examples/node_postprocessor/LongContextReorder.html) Output Parsing Modules (../../../module_guides/querying/output_parser.html) Guardrails Output Parsing (../../../examples/output_parsing/GuardrailsDemo.html) Langchain Output Parsing (../../../examples/output_parsing/LangchainOutputParserDemo.html) Guidance Pydantic Program (../../../examples/output_parsing/guidance_pydantic_program.html) Guidance for Sub-Question Query Engine (../../../examples/output_parsing/guidance_sub_question.html) OpenAI Pydantic Program (../../../examples/output_parsing/openai_pydantic_program.html) Observability (../../../module_guides/observability/observability.html) Wandb Callback Handler (../../../examples/callbacks/WandbCallbackHandler.html) Arize Phoenix Tracing Tutorial (https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/tracing/llama_index_tracing_tutorial.ipynb) OpenInference Callback Handler + Arize Phoenix (../../../examples/callbacks/OpenInferenceCallback.html) Evaluating Search and Retrieval with Arize Phoenix (https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/llama_index_search_and_retrieval_tutorial.ipynb) Evaluating and Tracking with TruLens (../../../community/integrations/trulens.html) Quickstart Guide with LlamaIndex + TruLens (https://github.com/truera/trulens/blob/main/trulens_eval/examples/frameworks/llama_index/llama_index_quickstart.ipynb) Colab (https://colab.research.google.com/github/truera/trulens/blob/main/trulens_eval/examples/frameworks/llama_index/llama_index_quickstart.ipynb) HoneyHive LlamaIndex Tracer (../../../examples/callbacks/HoneyHiveLlamaIndexTracer.html) Callbacks (../../../module_guides/observability/callbacks/root.html) Token Counting Handler (../../../examples/callbacks/TokenCountingHandler.html) Llama Debug Handler (../../../examples/callbacks/LlamaDebugHandler.html) Wandb Callback Handler (../../../examples/callbacks/WandbCallbackHandler.html) Aim Callback (../../../examples/callbacks/AimCallback.html) OpenInference Callback Handler + Arize Phoenix (../../../examples/callbacks/OpenInferenceCallback.html) Token Counting - Migration Guide (../../../module_guides/observability/callbacks/token_counting_migration.html) Evaluating (../../../module_guides/evaluating/root.html) Usage Pattern (Response Evaluation) (../../../module_guides/evaluating/usage_pattern.html) Usage Pattern (Retrieval) (../../../module_guides/evaluating/usage_pattern_retrieval.html) Modules (../../../module_guides/evaluating/modules.html) Faithfulness Evaluator (../../../examples/evaluation/faithfulness_eval.html) Relevancy Evaluator (../../../examples/evaluation/relevancy_eval.html) Guideline Evaluator (../../../examples/evaluation/guideline_eval.html) Correctness Evaluator (../../../examples/evaluation/correctness_eval.html) Embedding Similarity Evaluator (../../../examples/evaluation/semantic_similarity_eval.html) LlamaIndex + DeepEval Integration (../../../examples/evaluation/Deepeval.html) QuestionGeneration (../../../examples/evaluation/QuestionGeneration.html) BatchEvalRunner - Running Multiple Evaluations (../../../examples/evaluation/batch_eval.html) Retrieval Evaluation (../../../examples/evaluation/retrieval/retriever_eval.html) Supporting Modules (../../../module_guides/supporting_modules/supporting_modules.html) ServiceContext (../../../module_guides/supporting_modules/service_context.html) API Reference (../../../api_reference/index.html) Indices (../../../api_reference/indices.html) Summary Index (../../../api_reference/indices/list.html) Table Index (../../../api_reference/indices/table.html) Tree Index (../../../api_reference/indices/tree.html) Vector Store Index (../../../api_reference/indices/vector_store.html) Structured Store Index (../../../api_reference/indices/struct_store.html) Knowledge Graph Index (../../../api_reference/indices/kg.html) Empty Index (../../../api_reference/indices/empty.html) Querying an Index (../../../api_reference/query.html) Retrievers (../../../api_reference/query/retrievers.html) Empty Index Retriever (../../../api_reference/query/retrievers/empty.html) Knowledge Graph Retriever (../../../api_reference/query/retrievers/kg.html) List Retriever (../../../api_reference/query/retrievers/list.html) Keyword Table Retrievers (../../../api_reference/query/retrievers/table.html) Tree Retrievers (../../../api_reference/query/retrievers/tree.html) Vector Store Retrievers (../../../api_reference/query/retrievers/vector_store.html) Transform Retriever (../../../api_reference/query/retrievers/transform.html) Response Synthesizer (../../../api_reference/query/response_synthesizer.html) Query Engines (../../../api_reference/query/query_engines.html) Graph Query Engine (../../../api_reference/query/query_engines/graph_query_engine.html) Multistep Query Engine (../../../api_reference/query/query_engines/multistep_query_engine.html) Retriever Query Engine (../../../api_reference/query/query_engines/retriever_query_engine.html) Transform Query Engine (../../../api_reference/query/query_engines/transform_query_engine.html) Router Query Engine (../../../api_reference/query/query_engines/router_query_engine.html) Retriever Router Query Engine (../../../api_reference/query/query_engines/retriever_router_query_engine.html) Sub Question Query Engine (../../../api_reference/query/query_engines/sub_question_query_engine.html) SQL Join Query Engine (../../../api_reference/query/query_engines/sql_join_query_engine.html) Flare Query Engine (../../../api_reference/query/query_engines/flare_query_engine.html) Citation Query Engine (../../../api_reference/query/query_engines/citation_query_engine.html) Knowledge Graph Query Engine (../../../api_reference/query/query_engines/knowledge_graph_query_engine.html) SQL Query Engine (../../../api_reference/query/query_engines/sql_query_engine.html) Pandas Query Engine (../../../api_reference/query/query_engines/pandas_query_engine.html) Chat Engines (../../../api_reference/query/chat_engines.html) Simple Chat Engine (../../../api_reference/query/chat_engines/simple_chat_engine.html) Condense Question Chat Engine (../../../api_reference/query/chat_engines/condense_question_chat_engine.html) Query Bundle (../../../api_reference/query/query_bundle.html) Query Transform (../../../api_reference/query/query_transform.html) Node (../../../api_reference/node.html) LLM Predictors (../../../api_reference/llm_predictor.html) LLMs (../../../api_reference/llms.html) OpenAI (../../../api_reference/llms/openai.html) Azure OpenAI (../../../api_reference/llms/azure_openai.html) HuggingFaceLLM (../../../api_reference/llms/huggingface.html) LangChainLLM (../../../api_reference/llms/langchain.html) Anthropic (../../../api_reference/llms/anthropic.html) Gradient Base Model (../../../api_reference/llms/gradient_base_model.html) Gradient Model Adapter (../../../api_reference/llms/gradient_model_adapter.html) LiteLLM (../../../api_reference/llms/litellm.html) LlamaCPP (../../../api_reference/llms/llama_cpp.html) PaLM (../../../api_reference/llms/palm.html) Predibase (../../../api_reference/llms/predibase.html) Replicate (../../../api_reference/llms/replicate.html) XOrbits Xinference (../../../api_reference/llms/xinference.html) Prompt Templates (../../../api_reference/prompts.html) Embeddings (../../../api_reference/service_context/embeddings.html) OpenAIEmbedding (../../../api_reference/service_context/embeddings.html#openaiembedding) HuggingFaceEmbedding (../../../api_reference/service_context/embeddings.html#huggingfaceembedding) OptimumEmbedding (../../../api_reference/service_context/embeddings.html#optimumembedding) InstructorEmbedding (../../../api_reference/service_context/embeddings.html#instructorembedding) LangchainEmbedding (../../../api_reference/service_context/embeddings.html#langchainembedding) GoogleUnivSentEncoderEmbedding (../../../api_reference/service_context/embeddings.html#googleunivsentencoderembedding) Node Postprocessor (../../../api_reference/node_postprocessor.html) Storage Context (../../../api_reference/storage.html) Document Store (../../../api_reference/storage/docstore.html) Index Store (../../../api_reference/storage/index_store.html) Vector Store (../../../api_reference/storage/vector_store.html) KV Storage (../../../api_reference/storage/kv_store.html) Loading Indices (../../../api_reference/storage/indices_save_load.html) Composability (../../../api_reference/composability.html) Data Connectors (../../../api_reference/readers.html) Service Context (../../../api_reference/service_context.html) Embeddings (../../../api_reference/service_context/embeddings.html) OpenAIEmbedding (../../../api_reference/service_context/embeddings.html#openaiembedding) HuggingFaceEmbedding (../../../api_reference/service_context/embeddings.html#huggingfaceembedding) OptimumEmbedding (../../../api_reference/service_context/embeddings.html#optimumembedding) InstructorEmbedding (../../../api_reference/service_context/embeddings.html#instructorembedding) LangchainEmbedding (../../../api_reference/service_context/embeddings.html#langchainembedding) GoogleUnivSentEncoderEmbedding (../../../api_reference/service_context/embeddings.html#googleunivsentencoderembedding) Node Parser (../../../api_reference/service_context/node_parser.html) PromptHelper (../../../api_reference/service_context/prompt_helper.html) LLMs (../../../api_reference/llms.html) OpenAI (../../../api_reference/llms/openai.html) Azure OpenAI (../../../api_reference/llms/azure_openai.html) HuggingFaceLLM (../../../api_reference/llms/huggingface.html) LangChainLLM (../../../api_reference/llms/langchain.html) Anthropic (../../../api_reference/llms/anthropic.html) Gradient Base Model (../../../api_reference/llms/gradient_base_model.html) Gradient Model Adapter (../../../api_reference/llms/gradient_model_adapter.html) LiteLLM (../../../api_reference/llms/litellm.html) LlamaCPP (../../../api_reference/llms/llama_cpp.html) PaLM (../../../api_reference/llms/palm.html) Predibase (../../../api_reference/llms/predibase.html) Replicate (../../../api_reference/llms/replicate.html) XOrbits Xinference (../../../api_reference/llms/xinference.html) Callbacks (../../../api_reference/callbacks.html) Structured Index Configuration (../../../api_reference/struct_store.html) Evaluation (../../../api_reference/evaluation.html) Response (../../../api_reference/response.html) Playground (../../../api_reference/playground.html) Finetuning (../../../api_reference/finetuning.html) Memory (../../../api_reference/memory.html) Example Notebooks (../../../api_reference/example_notebooks.html) Langchain Integrations (../../../api_reference/langchain_integrations/base.html) Integrations (../../../community/integrations.html) Observability (../../../module_guides/observability/observability.html) Wandb Callback Handler (../../../examples/callbacks/WandbCallbackHandler.html) Arize Phoenix Tracing Tutorial (https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/tracing/llama_index_tracing_tutorial.ipynb) OpenInference Callback Handler + Arize Phoenix (../../../examples/callbacks/OpenInferenceCallback.html) Evaluating Search and Retrieval with Arize Phoenix (https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/llama_index_search_and_retrieval_tutorial.ipynb) Evaluating and Tracking with TruLens (../../../community/integrations/trulens.html) Quickstart Guide with LlamaIndex + TruLens (https://github.com/truera/trulens/blob/main/trulens_eval/examples/frameworks/llama_index/llama_index_quickstart.ipynb) Colab (https://colab.research.google.com/github/truera/trulens/blob/main/trulens_eval/examples/frameworks/llama_index/llama_index_quickstart.ipynb) HoneyHive LlamaIndex Tracer (../../../examples/callbacks/HoneyHiveLlamaIndexTracer.html) Callbacks (../../../module_guides/observability/callbacks/root.html) Token Counting Handler (../../../examples/callbacks/TokenCountingHandler.html) Llama Debug Handler (../../../examples/callbacks/LlamaDebugHandler.html) Wandb Callback Handler (../../../examples/callbacks/WandbCallbackHandler.html) Aim Callback (../../../examples/callbacks/AimCallback.html) OpenInference Callback Handler + Arize Phoenix (../../../examples/callbacks/OpenInferenceCallback.html) Token Counting - Migration Guide (../../../module_guides/observability/callbacks/token_counting_migration.html) Tracing with Graphsignal (../../../community/integrations/graphsignal.html) Evaluating and Tracking with TruLens (../../../community/integrations/trulens.html) Unit Testing LLMs With DeepEval (../../../community/integrations/deepeval.html) Guidance (../../../community/integrations/guidance.html) LM Format Enforcer (../../../community/integrations/lmformatenforcer.html) Guardrails (../../../examples/output_parsing/GuardrailsDemo.html) OpenAI Function Calling (../../../examples/output_parsing/openai_pydantic_program.html) Using Vector Stores (../../../community/integrations/vector_stores.html) Astra DB (../../../examples/vector_stores/AstraDBIndexDemo.html) Simple Vector Store - Async Index Creation (../../../examples/vector_stores/AsyncIndexCreationDemo.html) Azure CosmosDB MongoDB Vector Store (../../../examples/vector_stores/AzureCosmosDBMongoDBvCoreDemo.html) Cassandra Vector Store (../../../examples/vector_stores/CassandraIndexDemo.html) Chroma (../../../examples/vector_stores/ChromaIndexDemo.html) Azure Cognitive Search (../../../examples/vector_stores/CognitiveSearchIndexDemo.html) Basic Example (../../../examples/vector_stores/CognitiveSearchIndexDemo.html#basic-example) Create Index (if it does not exist) (../../../examples/vector_stores/CognitiveSearchIndexDemo.html#create-index-if-it-does-not-exist) Use Existing Index (../../../examples/vector_stores/CognitiveSearchIndexDemo.html#use-existing-index) Adding a document to existing index (../../../examples/vector_stores/CognitiveSearchIndexDemo.html#adding-a-document-to-existing-index) Filtering (../../../examples/vector_stores/CognitiveSearchIndexDemo.html#filtering) DashVector Vector Store (../../../examples/vector_stores/DashvectorIndexDemo.html) DeepLake Vector Store (../../../examples/vector_stores/DeepLakeIndexDemo.html) DocArray Hnsw Vector Store (../../../examples/vector_stores/DocArrayHnswIndexDemo.html) DocArray InMemory Vector Store (../../../examples/vector_stores/DocArrayInMemoryIndexDemo.html) Epsilla Vector Store (../../../examples/vector_stores/EpsillaIndexDemo.html) LanceDB Vector Store (../../../examples/vector_stores/LanceDBIndexDemo.html) Metal Vector Store (../../../examples/vector_stores/MetalIndexDemo.html) Milvus Vector Store (../../../examples/vector_stores/MilvusIndexDemo.html) MyScale Vector Store (../../../examples/vector_stores/MyScaleIndexDemo.html) Elasticsearch Vector Store (../../../examples/vector_stores/ElasticsearchIndexDemo.html) Faiss Vector Store (../../../examples/vector_stores/FaissIndexDemo.html) MongoDB Atlas (../../../examples/vector_stores/MongoDBAtlasVectorSearch.html) Neo4j vector store (../../../examples/vector_stores/Neo4jVectorDemo.html) Opensearch Vector Store (../../../examples/vector_stores/OpensearchDemo.html) Pinecone Vector Store (../../../examples/vector_stores/PineconeIndexDemo.html) Pinecone Vector Store - Hybrid Search (../../../examples/vector_stores/PineconeIndexDemo-Hybrid.html) Redis Vector Store (../../../examples/vector_stores/RedisIndexDemo.html) Query the data (../../../examples/vector_stores/RedisIndexDemo.html#query-the-data) Working with Metadata (../../../examples/vector_stores/RedisIndexDemo.html#working-with-metadata) Qdrant Vector Store (../../../examples/vector_stores/QdrantIndexDemo.html) Rockset Vector Store (../../../examples/vector_stores/RocksetIndexDemo.html) Simple Vector Store (../../../examples/vector_stores/SimpleIndexDemo.html) Supabase Vector Store (../../../examples/vector_stores/SupabaseVectorIndexDemo.html) Tair Vector Store (../../../examples/vector_stores/TairIndexDemo.html) Tencent Cloud VectorDB (../../../examples/vector_stores/TencentVectorDBIndexDemo.html) Timescale Vector Store (PostgreSQL) (../../../examples/vector_stores/Timescalevector.html) Weaviate Vector Store (../../../examples/vector_stores/WeaviateIndexDemo.html) Weaviate Vector Store - Hybrid Search (../../../examples/vector_stores/WeaviateIndexDemo-Hybrid.html) Zep Vector Store (../../../examples/vector_stores/ZepIndexDemo.html) Create a Zep Vector Store and Index (../../../examples/vector_stores/ZepIndexDemo.html#create-a-zep-vector-store-and-index) Querying with Metadata filters (../../../examples/vector_stores/ZepIndexDemo.html#querying-with-metadata-filters) Using Graph Stores (../../../community/integrations/graph_stores.html) Neo4j Graph Store (../../../examples/index_structs/knowledge_graph/Neo4jKGIndexDemo.html) Nebula Graph Store (../../../examples/index_structs/knowledge_graph/NebulaGraphKGIndexDemo.html) Knowledge Graph Query Engine (../../../examples/query_engine/knowledge_graph_query_engine.html) Kuzu Graph Store (../../../examples/index_structs/knowledge_graph/KuzuGraphDemo.html) FalkorDB Graph Store (../../../examples/index_structs/knowledge_graph/FalkorDBGraphDemo.html) Using Managed Indices (../../../community/integrations/managed_indices.html) Vectara Managed Index (../../../examples/managed/vectaraDemo.html) Using with Langchain 🦜🔗 (../../../community/integrations/using_with_langchain.html) Streamlit (https://blog.streamlit.io/build-a-chatbot-with-custom-data-sources-powered-by-llamaindex/) Chainlit (https://docs.chainlit.io/integrations/llama-index) LlamaIndex + Ray (https://www.anyscale.com/blog/build-and-scale-a-powerful-query-engine-with-llamaindex-ray) ChatGPT Plugin Integrations (../../../community/integrations/chatgpt_plugins.html) Poe (https://github.com/poe-platform/poe-protocol/tree/main/llama_poe) Airbyte (https://airbyte.com/tutorials/airbyte-and-llamaindex-elt-and-chat-with-your-data-warehouse-without-writing-sql) Frequently Asked Questions (FAQ) (../../../community/frequently_asked_questions.html) Large Language Models (../../../community/faq/llms.html) Embeddings (../../../community/faq/embeddings.html) Vector Database (../../../community/faq/vector_database.html) Query Engines (../../../community/faq/query_engines.html) Chat Engines (../../../community/faq/chat_engines.html) Documents and Nodes (../../../community/faq/documents_and_nodes.html) Contributing to LlamaIndex (../../../contributing/contributing.html) Documentation Guide (../../../contributing/documentation.html) ChangeLog (../../../changes/changelog.html) Deprecated Terms (../../../changes/deprecated_terms.html) latest (https://docs.llamaindex.ai/en/latest/understanding/putting_it_all_together/apps/fullstack_with_delphic.html) stable (https://docs.llamaindex.ai/en/stable/understanding/putting_it_all_together/apps/fullstack_with_delphic.html) v0.8.39 (https://docs.llamaindex.ai/en/v0.8.39/understanding/putting_it_all_together/apps/fullstack_with_delphic.html) v0.8.38 (https://docs.llamaindex.ai/en/v0.8.38/understanding/putting_it_all_together/apps/fullstack_with_delphic.html) v0.8.37 (https://docs.llamaindex.ai/en/v0.8.37/understanding/putting_it_all_together/apps/fullstack_with_delphic.html) v0.8.36 (https://docs.llamaindex.ai/en/v0.8.36/understanding/putting_it_all_together/apps/fullstack_with_delphic.html) v0.8.25 (https://docs.llamaindex.ai/en/v0.8.25/understanding/putting_it_all_together/apps/fullstack_with_delphic.html) View (https://github.com/run-llama/llama_index/blob/99c6e14c747b13d319e18c5dd5df476a913b81f5/docs/understanding/putting_it_all_together/apps/fullstack_with_delphic.md) Read the Docs (https://readthedocs.com) (#) (https://github.com/run-llama/llama_index/edit/99c6e14c747b13d319e18c5dd5df476a913b81f5/docs/understanding/putting_it_all_together/apps/fullstack_with_delphic.md)  (#a-guide-to-building-a-full-stack-llamaindex-web-app-with-delphic) Delphic (https://github.com/JSv4/Delphic) Delphic (https://github.com/JSv4/Delphic)  (#what-we-re-building)  (#architectural-overview) Django (https://www.djangoproject.com/) Django Channels (https://channels.readthedocs.io/en/stable/) Django Ninja (https://django-ninja.rest-framework.com/) Redis (https://redis.io/) Celery (https://docs.celeryq.dev/en/stable/getting-started/introduction.html) LlamaIndex (https://gpt-index.readthedocs.io/en/latest/) Langchain (https://python.langchain.com/en/latest/index.html) React (https://github.com/facebook/react)  (#system-requirements)  (#django-backend)  (#project-directory-overview)  (#database-models) ./delphic/indexes/models.py (https://github.com/JSv4/Delphic/blob/main/delphic/indexes/models.py)  (#django-ninja-api) ./config/api/endpoints.py (https://github.com/JSv4/Delphic/blob/main/config/api/endpoints.py)  (#intro-to-websockets) ./config/asgi.py (https://github.com/JSv4/Delphic/blob/main/config/asgi.py)  (#websocket-handler) config/api/websockets/queries.py (https://github.com/JSv4/Delphic/blob/main/config/api/websockets/queries.py)  (#websocket-connect-listener)  (#websocket-disconnect-listener)  (#websocket-receive-listener) delphic/utils/collections.py (https://github.com/JSv4/Delphic/blob/main/delphic/utils/collections.py)  (#react-frontend)  (#overview)  (#frontend-project-structure) /frontend (https://github.com/JSv4/Delphic/tree/main/frontend) nginx (https://www.nginx.com/)  (#grabbing-collections-from-the-backend)  (#displaying-collections)  (#chat-view-component)  (#chat-websocket-client)  (#rendering-our-chat-messages)  (#deployment)  (#prerequisites) great Docker tutorial (https://www.digitalocean.com/community/tutorial_collections/how-to-install-and-use-docker) Docker Compose (https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-compose-on-ubuntu-20-04) official docker documentation. (https://docs.docker.com/engine/install/)  (#build-and-deploy) Django Cookiecutter project docs (https://cookiecutter-django.readthedocs.io/en/latest/deployment-with-docker.html) instructions in the project readme.md (https://github.com/JSv4/Delphic#development)  (#using-the-application)  (#setup-users) (../chatbots/building_a_chatbot.html) (fullstack_app_guide.html) Sphinx (https://www.sphinx-doc.org/) @pradyunsg (https://pradyunsg.me) Furo (https://github.com/pradyunsg/furo) (https://readthedocs.org/projects/llamaindex-llamaindex) (https://github.com/run-llama/llama_index) A Guide to Building a Full-Stack LlamaIndex Web App with Delphic (#) What We’re Building (#what-we-re-building) Architectural Overview (#architectural-overview) System Requirements (#system-requirements) Django Backend (#django-backend) Project Directory Overview (#project-directory-overview) Database Models (#database-models) Django Ninja API (#django-ninja-api) Intro to Websockets (#intro-to-websockets) Websocket Handler (#websocket-handler) Websocket connect listener (#websocket-connect-listener) Websocket disconnect listener (#websocket-disconnect-listener) Websocket receive listener (#websocket-receive-listener) React Frontend (#react-frontend) Overview (#overview) Frontend Project Structure (#frontend-project-structure) Grabbing Collections from the Backend (#grabbing-collections-from-the-backend) Displaying Collections (#displaying-collections) Chat View Component (#chat-view-component) Chat Websocket Client (#chat-websocket-client) Rendering our Chat Messages (#rendering-our-chat-messages) Deployment (#deployment) Prerequisites (#prerequisites) Build and Deploy (#build-and-deploy) Using the Application (#using-the-application) Setup Users (#setup-users)